[{"published":true,"noteId":"9a4d1de842854bf89318e4742dcc55f0","createdAt":1714389693882,"updatedAt":1714390502848,"tags":[],"content":"\n# Introduction\n\nThe latest version of the game Cyberpunk 2077 has successfully implemented a strategy where all its threads are bound to the Performance Cores (P-Cores) of Intel CPUs. This optimization has sparked curiosity among developers and enthusiasts about the potential benefits of leveraging the heterogeneous architecture of modern Intel processors, which feature a combination of P-Cores and Efficient Cores (E-Cores).\n\nMy hypothesis is that the separation of the L2 cache between E-Cores and P-Cores can introduce significant latency when switching between them. This latency can be particularly slow in certain CPU models, leading to performance degradation. By creating separate thread pools for E-Cores and P-Cores and strategically assigning threads to specific core types, substantial performance improvements can be achieved.\n\nTo investigate this hypothesis and explore the impact of context switching between P-Cores and E-Cores, a benchmark program has been developed. This article will present the benchmark code, discuss the precautions taken during its development, and analyze the results obtained from running the benchmark on an Intel CPU with both P-Cores and E-Cores.\n\n# Benchmark Code\n\nThe benchmark program is written in C++ and utilizes the Windows API to retrieve processor information and set thread affinity. Here's the code:\n\n```cpp\n#include <cstdio>\n#include <thread>\n#include <vector>\n#include <windows.h>\n#include <chrono>\n#include <cmath>\n#include <random>\n#include <string>\n\nconst int NUM_ITERATIONS = 1000000;\n\nvoid benchmarkTask(std::vector<DWORD_PTR> pCoreMasks, std::vector<DWORD_PTR> eCoreMasks, bool pCoreOnly, bool eCoreOnly) {\n    std::random_device rd;\n    std::mt19937 gen(rd());\n    std::uniform_int_distribution<> pCoreDistribution(0, pCoreMasks.size() - 1);\n    std::uniform_int_distribution<> eCoreDistribution(0, eCoreMasks.size() - 1);\n\n    for (int i = 0; i < NUM_ITERATIONS; ++i) {\n        if (pCoreOnly && !pCoreMasks.empty()) {\n            // Set the thread affinity to a random P-Core\n            DWORD_PTR mask = pCoreMasks[pCoreDistribution(gen)];\n            SetThreadAffinityMask(GetCurrentThread(), mask);\n        } else if (eCoreOnly && !eCoreMasks.empty()) {\n            // Set the thread affinity to a random E-Core\n            DWORD_PTR mask = eCoreMasks[eCoreDistribution(gen)];\n            SetThreadAffinityMask(GetCurrentThread(), mask);\n        } else {\n            // Randomly select a P-Core or E-Core\n            bool usePCore = (i % 2 == 0);\n\n            if (usePCore && !pCoreMasks.empty()) {\n                // Set the thread affinity to a random P-Core\n                DWORD_PTR mask = pCoreMasks[pCoreDistribution(gen)];\n                SetThreadAffinityMask(GetCurrentThread(), mask);\n            } else if (!usePCore && !eCoreMasks.empty()) {\n                // Set the thread affinity to a random E-Core\n                DWORD_PTR mask = eCoreMasks[eCoreDistribution(gen)];\n                SetThreadAffinityMask(GetCurrentThread(), mask);\n            }\n        }\n\n        // Perform some work\n        double result = 0.0;\n        for (int j = 0; j < 1000; ++j) {\n            result += std::sin(j) * std::cos(j);\n        }\n    }\n}\n\nint main(int argc, char* argv[]) {\n    bool pCoreOnly = false;\n    bool eCoreOnly = false;\n\n    // Parse command-line arguments\n    for (int i = 1; i < argc; ++i) {\n        std::string arg = argv[i];\n        if (arg == \"--p-core-only\") {\n            pCoreOnly = true;\n        } else if (arg == \"--e-core-only\") {\n            eCoreOnly = true;\n        }\n    }\n\n    DWORD returnedLength = 0;\n    BOOL ret = GetLogicalProcessorInformationEx(RelationProcessorCore, nullptr, &returnedLength);\n    if (ret == FALSE && GetLastError() == ERROR_INSUFFICIENT_BUFFER) {\n        std::vector<char> buffer(returnedLength);\n        SYSTEM_LOGICAL_PROCESSOR_INFORMATION_EX* processorInfo = reinterpret_cast<SYSTEM_LOGICAL_PROCESSOR_INFORMATION_EX*>(buffer.data());\n\n        ret = GetLogicalProcessorInformationEx(RelationProcessorCore, processorInfo, &returnedLength);\n        if (ret) {\n            std::vector<DWORD_PTR> pCoreMasks;\n            std::vector<DWORD_PTR> eCoreMasks;\n\n            char* ptr = buffer.data();\n            while (ptr < buffer.data() + returnedLength) {\n                SYSTEM_LOGICAL_PROCESSOR_INFORMATION_EX* info = reinterpret_cast<SYSTEM_LOGICAL_PROCESSOR_INFORMATION_EX*>(ptr);\n                if (info->Relationship == RelationProcessorCore) {\n                    if (info->Processor.EfficiencyClass == 0 || info->Processor.EfficiencyClass == 2) {\n                        pCoreMasks.push_back(info->Processor.GroupMask[0].Mask);\n                    } else if (info->Processor.EfficiencyClass == 1) {\n                        eCoreMasks.push_back(info->Processor.GroupMask[0].Mask);\n                    }\n                }\n                ptr += info->Size;\n            }\n\n            printf(\"Number of P-Cores: %zu\\n\", pCoreMasks.size());\n            printf(\"Number of E-Cores: %zu\\n\", eCoreMasks.size());\n\n            // Create multiple benchmark threads\n            const int numThreads = 4;\n            std::vector<std::thread> threads;\n            auto start = std::chrono::high_resolution_clock::now();\n\n            for (int i = 0; i < numThreads; ++i) {\n                threads.emplace_back(benchmarkTask, pCoreMasks, eCoreMasks, pCoreOnly, eCoreOnly);\n            }\n\n            // Wait for all threads to finish\n            for (auto& thread : threads) {\n                thread.join();\n            }\n\n            auto end = std::chrono::high_resolution_clock::now();\n            auto duration = std::chrono::duration_cast<std::chrono::milliseconds>(end - start).count();\n            printf(\"Benchmark completed in %lld milliseconds.\\n\", duration);\n        }\n    }\n\n    return 0;\n}\n```\n\n\n\n# Precautions\n\nWhen developing the benchmark program, several precautions were taken to ensure accurate and reliable results:\n\nCore Arrangement: Initially, the program assumed that P-Cores and E-Cores were arranged in a specific order, which was logically(but not practically) incorrect. It is crucial to retrieve the affinity masks from the processor information using the GetLogicalProcessorInformationEx function and set thread affinity correctly, regardless of the CPU model or core arrangement. This ensures that the benchmark accurately targets different core types and CPU models.\n\nContext Switching Location: There was a discussion about whether the context switching should happen within the benchmarkTask function or when creating the benchmark threads. It is essential to ensure that the context switching occurs inside the benchmarkTask to accurately measure the impact of switching between P-Cores and E-Cores. Performing context switching outside the task could lead to misleading results.\n\nWorkload Characteristics: The benchmark program should be designed to simulate real-world workloads that are relevant to the software being optimized. The choice of CPU-intensive work performed in each iteration of the benchmarkTask should be representative of the actual workload. It is crucial to consider the specific characteristics of the software and adapt the benchmark accordingly.\n\nSample Size and Statistical Significance: To obtain reliable results, the benchmark should be run multiple times, and the sample size should be sufficiently large to ensure statistical significance. It is important to consider the variability of the results and perform appropriate statistical analysis to draw meaningful conclusions.\n\nBy taking these precautions into account, the benchmark program can provide more accurate and reliable insights into the performance impact of context switching between P-Cores and E-Cores on Intel CPUs.\n\n# Results\nRunning the benchmark program on an Intel CPU with both P-Cores and E-Cores yielded the following results:\n\nP-Core Only: The benchmark ran the fastest when all threads were bound to P-Cores only.\nE-Core Only: The benchmark ran slower when all threads were bound to E-Cores only.\nMixed Mode: The benchmark exhibited the slowest performance when forcing context switching between P-Cores and E-Cores.\n\nThese results align with the hypothesis that the separation of the L2 cache between E-Cores and P-Cores can introduce significant latency when switching between them. By binding threads to specific core types, as demonstrated in Cyberpunk 2077, performance can be optimized.\n\nHere is my result on my i7 13700KF CPU (128GB DDR4 3200 Ram, Win 11)\n```\n.\\bench.exe \nNumber of P-Cores: 8\nNumber of E-Cores: 8\nBenchmark completed in 11180 milliseconds.\n.\\bench.exe --p-core-only\nNumber of P-Cores: 8\nNumber of E-Cores: 8\nBenchmark completed in 7261 milliseconds.\n.\\bench.exe --e-core-only\nNumber of P-Cores: 8\nNumber of E-Cores: 8\nBenchmark completed in 7447 milliseconds.\n```\n\n# Conclusion\nThe benchmark program provided valuable insights into the performance impact of context switching between P-Cores and E-Cores on Intel CPUs. It highlighted the importance of considering the architectural differences between core types when designing and optimizing software. \n\nThe results supported the hypothesis that the separation of the L2 cache can introduce latency when switching between E-Cores and P-Cores, and that binding threads to specific core types can lead to performance improvements.\n\nI think this may have a even large impact on seperated big.little CPUs like Quadcomm SnapDragon 810. Further exploration and testing on different CPU models and workloads would be beneficial to gain a more comprehensive understanding of the performance characteristics of P-Cores and E-Cores due to their physical latencies.\n\nNonetheless, this experiment serves as a starting point for developers to investigate and optimize their software for heterogeneous CPU architectures. By strategically assigning threads to specific core types and minimizing context switching between E-Cores and P-Cores, developers can potentially improve performance and leverage the full potential of modern desktop/mobile CPUs (even Intel is planned to drop E-Core soon).\n\n# Appendix\n\ngist: https://gist.github.com/abbychau/8ac93aa252be9d37b7a69d93e09ab004\n\nmain.cpp performance(by multiplying iterations for 100):\n![daf36f5eb6cf0b2a655c8fe8bef4a2af.png](:/64ca3cc703a347cfafb7f8cd1be5ba97)","url":"benchmarking-context-switching-between-p-cores-and-e-cores-on-intel-cpus","title":"Benchmarking Context Switching Between P-Cores and E-Cores on Intel CPUs","fullUrl":"article/benchmarking-context-switching-between-p-cores-and-e-cores-on-intel-cpus","htmlContent":"<h1 id=\"introduction\">Introduction</h1>\n<p>The latest version of the game Cyberpunk 2077 has successfully implemented a strategy where all its threads are bound to the Performance Cores (P-Cores) of Intel CPUs. This optimization has sparked curiosity among developers and enthusiasts about the potential benefits of leveraging the heterogeneous architecture of modern Intel processors, which feature a combination of P-Cores and Efficient Cores (E-Cores).</p>\n<p>My hypothesis is that the separation of the L2 cache between E-Cores and P-Cores can introduce significant latency when switching between them. This latency can be particularly slow in certain CPU models, leading to performance degradation. By creating separate thread pools for E-Cores and P-Cores and strategically assigning threads to specific core types, substantial performance improvements can be achieved.</p>\n<p>To investigate this hypothesis and explore the impact of context switching between P-Cores and E-Cores, a benchmark program has been developed. This article will present the benchmark code, discuss the precautions taken during its development, and analyze the results obtained from running the benchmark on an Intel CPU with both P-Cores and E-Cores.</p>\n<h1 id=\"benchmark-code\">Benchmark Code</h1>\n<p>The benchmark program is written in C++ and utilizes the Windows API to retrieve processor information and set thread affinity. Here's the code:</p>\n<div><pre class=\"hljs\"><code><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;cstdio&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;thread&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;vector&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;windows.h&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;chrono&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;cmath&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;random&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;string&gt;</span></span>\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">int</span> NUM_ITERATIONS = <span class=\"hljs-number\">1000000</span>;\n\n<span class=\"hljs-function\"><span class=\"hljs-type\">void</span> <span class=\"hljs-title\">benchmarkTask</span><span class=\"hljs-params\">(std::vector&lt;DWORD_PTR&gt; pCoreMasks, std::vector&lt;DWORD_PTR&gt; eCoreMasks, <span class=\"hljs-type\">bool</span> pCoreOnly, <span class=\"hljs-type\">bool</span> eCoreOnly)</span> </span>{\n    std::random_device rd;\n    <span class=\"hljs-function\">std::mt19937 <span class=\"hljs-title\">gen</span><span class=\"hljs-params\">(rd())</span></span>;\n    std::uniform_int_distribution&lt;&gt; <span class=\"hljs-built_in\">pCoreDistribution</span>(<span class=\"hljs-number\">0</span>, pCoreMasks.<span class=\"hljs-built_in\">size</span>() - <span class=\"hljs-number\">1</span>);\n    std::uniform_int_distribution&lt;&gt; <span class=\"hljs-built_in\">eCoreDistribution</span>(<span class=\"hljs-number\">0</span>, eCoreMasks.<span class=\"hljs-built_in\">size</span>() - <span class=\"hljs-number\">1</span>);\n\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; NUM_ITERATIONS; ++i) {\n        <span class=\"hljs-keyword\">if</span> (pCoreOnly &amp;&amp; !pCoreMasks.<span class=\"hljs-built_in\">empty</span>()) {\n            <span class=\"hljs-comment\">// Set the thread affinity to a random P-Core</span>\n            DWORD_PTR mask = pCoreMasks[<span class=\"hljs-built_in\">pCoreDistribution</span>(gen)];\n            <span class=\"hljs-built_in\">SetThreadAffinityMask</span>(<span class=\"hljs-built_in\">GetCurrentThread</span>(), mask);\n        } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (eCoreOnly &amp;&amp; !eCoreMasks.<span class=\"hljs-built_in\">empty</span>()) {\n            <span class=\"hljs-comment\">// Set the thread affinity to a random E-Core</span>\n            DWORD_PTR mask = eCoreMasks[<span class=\"hljs-built_in\">eCoreDistribution</span>(gen)];\n            <span class=\"hljs-built_in\">SetThreadAffinityMask</span>(<span class=\"hljs-built_in\">GetCurrentThread</span>(), mask);\n        } <span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-comment\">// Randomly select a P-Core or E-Core</span>\n            <span class=\"hljs-type\">bool</span> usePCore = (i % <span class=\"hljs-number\">2</span> == <span class=\"hljs-number\">0</span>);\n\n            <span class=\"hljs-keyword\">if</span> (usePCore &amp;&amp; !pCoreMasks.<span class=\"hljs-built_in\">empty</span>()) {\n                <span class=\"hljs-comment\">// Set the thread affinity to a random P-Core</span>\n                DWORD_PTR mask = pCoreMasks[<span class=\"hljs-built_in\">pCoreDistribution</span>(gen)];\n                <span class=\"hljs-built_in\">SetThreadAffinityMask</span>(<span class=\"hljs-built_in\">GetCurrentThread</span>(), mask);\n            } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (!usePCore &amp;&amp; !eCoreMasks.<span class=\"hljs-built_in\">empty</span>()) {\n                <span class=\"hljs-comment\">// Set the thread affinity to a random E-Core</span>\n                DWORD_PTR mask = eCoreMasks[<span class=\"hljs-built_in\">eCoreDistribution</span>(gen)];\n                <span class=\"hljs-built_in\">SetThreadAffinityMask</span>(<span class=\"hljs-built_in\">GetCurrentThread</span>(), mask);\n            }\n        }\n\n        <span class=\"hljs-comment\">// Perform some work</span>\n        <span class=\"hljs-type\">double</span> result = <span class=\"hljs-number\">0.0</span>;\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> j = <span class=\"hljs-number\">0</span>; j &lt; <span class=\"hljs-number\">1000</span>; ++j) {\n            result += std::<span class=\"hljs-built_in\">sin</span>(j) * std::<span class=\"hljs-built_in\">cos</span>(j);\n        }\n    }\n}\n\n<span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> argc, <span class=\"hljs-type\">char</span>* argv[])</span> </span>{\n    <span class=\"hljs-type\">bool</span> pCoreOnly = <span class=\"hljs-literal\">false</span>;\n    <span class=\"hljs-type\">bool</span> eCoreOnly = <span class=\"hljs-literal\">false</span>;\n\n    <span class=\"hljs-comment\">// Parse command-line arguments</span>\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">1</span>; i &lt; argc; ++i) {\n        std::string arg = argv[i];\n        <span class=\"hljs-keyword\">if</span> (arg == <span class=\"hljs-string\">\"--p-core-only\"</span>) {\n            pCoreOnly = <span class=\"hljs-literal\">true</span>;\n        } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (arg == <span class=\"hljs-string\">\"--e-core-only\"</span>) {\n            eCoreOnly = <span class=\"hljs-literal\">true</span>;\n        }\n    }\n\n    DWORD returnedLength = <span class=\"hljs-number\">0</span>;\n    BOOL ret = <span class=\"hljs-built_in\">GetLogicalProcessorInformationEx</span>(RelationProcessorCore, <span class=\"hljs-literal\">nullptr</span>, &amp;returnedLength);\n    <span class=\"hljs-keyword\">if</span> (ret == FALSE &amp;&amp; <span class=\"hljs-built_in\">GetLastError</span>() == ERROR_INSUFFICIENT_BUFFER) {\n        <span class=\"hljs-function\">std::vector&lt;<span class=\"hljs-type\">char</span>&gt; <span class=\"hljs-title\">buffer</span><span class=\"hljs-params\">(returnedLength)</span></span>;\n        SYSTEM_LOGICAL_PROCESSOR_INFORMATION_EX* processorInfo = <span class=\"hljs-built_in\">reinterpret_cast</span>&lt;SYSTEM_LOGICAL_PROCESSOR_INFORMATION_EX*&gt;(buffer.<span class=\"hljs-built_in\">data</span>());\n\n        ret = <span class=\"hljs-built_in\">GetLogicalProcessorInformationEx</span>(RelationProcessorCore, processorInfo, &amp;returnedLength);\n        <span class=\"hljs-keyword\">if</span> (ret) {\n            std::vector&lt;DWORD_PTR&gt; pCoreMasks;\n            std::vector&lt;DWORD_PTR&gt; eCoreMasks;\n\n            <span class=\"hljs-type\">char</span>* ptr = buffer.<span class=\"hljs-built_in\">data</span>();\n            <span class=\"hljs-keyword\">while</span> (ptr &lt; buffer.<span class=\"hljs-built_in\">data</span>() + returnedLength) {\n                SYSTEM_LOGICAL_PROCESSOR_INFORMATION_EX* info = <span class=\"hljs-built_in\">reinterpret_cast</span>&lt;SYSTEM_LOGICAL_PROCESSOR_INFORMATION_EX*&gt;(ptr);\n                <span class=\"hljs-keyword\">if</span> (info-&gt;Relationship == RelationProcessorCore) {\n                    <span class=\"hljs-keyword\">if</span> (info-&gt;Processor.EfficiencyClass == <span class=\"hljs-number\">0</span> || info-&gt;Processor.EfficiencyClass == <span class=\"hljs-number\">2</span>) {\n                        pCoreMasks.<span class=\"hljs-built_in\">push_back</span>(info-&gt;Processor.GroupMask[<span class=\"hljs-number\">0</span>].Mask);\n                    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (info-&gt;Processor.EfficiencyClass == <span class=\"hljs-number\">1</span>) {\n                        eCoreMasks.<span class=\"hljs-built_in\">push_back</span>(info-&gt;Processor.GroupMask[<span class=\"hljs-number\">0</span>].Mask);\n                    }\n                }\n                ptr += info-&gt;Size;\n            }\n\n            <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">\"Number of P-Cores: %zu\\n\"</span>, pCoreMasks.<span class=\"hljs-built_in\">size</span>());\n            <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">\"Number of E-Cores: %zu\\n\"</span>, eCoreMasks.<span class=\"hljs-built_in\">size</span>());\n\n            <span class=\"hljs-comment\">// Create multiple benchmark threads</span>\n            <span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">int</span> numThreads = <span class=\"hljs-number\">4</span>;\n            std::vector&lt;std::thread&gt; threads;\n            <span class=\"hljs-keyword\">auto</span> start = std::chrono::high_resolution_clock::<span class=\"hljs-built_in\">now</span>();\n\n            <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; numThreads; ++i) {\n                threads.<span class=\"hljs-built_in\">emplace_back</span>(benchmarkTask, pCoreMasks, eCoreMasks, pCoreOnly, eCoreOnly);\n            }\n\n            <span class=\"hljs-comment\">// Wait for all threads to finish</span>\n            <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">auto</span>&amp; thread : threads) {\n                thread.<span class=\"hljs-built_in\">join</span>();\n            }\n\n            <span class=\"hljs-keyword\">auto</span> end = std::chrono::high_resolution_clock::<span class=\"hljs-built_in\">now</span>();\n            <span class=\"hljs-keyword\">auto</span> duration = std::chrono::<span class=\"hljs-built_in\">duration_cast</span>&lt;std::chrono::milliseconds&gt;(end - start).<span class=\"hljs-built_in\">count</span>();\n            <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">\"Benchmark completed in %lld milliseconds.\\n\"</span>, duration);\n        }\n    }\n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}</code></pre></div>\n<h1 id=\"precautions\">Precautions</h1>\n<p>When developing the benchmark program, several precautions were taken to ensure accurate and reliable results:</p>\n<p>Core Arrangement: Initially, the program assumed that P-Cores and E-Cores were arranged in a specific order, which was logically(but not practically) incorrect. It is crucial to retrieve the affinity masks from the processor information using the GetLogicalProcessorInformationEx function and set thread affinity correctly, regardless of the CPU model or core arrangement. This ensures that the benchmark accurately targets different core types and CPU models.</p>\n<p>Context Switching Location: There was a discussion about whether the context switching should happen within the benchmarkTask function or when creating the benchmark threads. It is essential to ensure that the context switching occurs inside the benchmarkTask to accurately measure the impact of switching between P-Cores and E-Cores. Performing context switching outside the task could lead to misleading results.</p>\n<p>Workload Characteristics: The benchmark program should be designed to simulate real-world workloads that are relevant to the software being optimized. The choice of CPU-intensive work performed in each iteration of the benchmarkTask should be representative of the actual workload. It is crucial to consider the specific characteristics of the software and adapt the benchmark accordingly.</p>\n<p>Sample Size and Statistical Significance: To obtain reliable results, the benchmark should be run multiple times, and the sample size should be sufficiently large to ensure statistical significance. It is important to consider the variability of the results and perform appropriate statistical analysis to draw meaningful conclusions.</p>\n<p>By taking these precautions into account, the benchmark program can provide more accurate and reliable insights into the performance impact of context switching between P-Cores and E-Cores on Intel CPUs.</p>\n<h1 id=\"results\">Results</h1>\n<p>Running the benchmark program on an Intel CPU with both P-Cores and E-Cores yielded the following results:</p>\n<p>P-Core Only: The benchmark ran the fastest when all threads were bound to P-Cores only.<br />\nE-Core Only: The benchmark ran slower when all threads were bound to E-Cores only.<br />\nMixed Mode: The benchmark exhibited the slowest performance when forcing context switching between P-Cores and E-Cores.</p>\n<p>These results align with the hypothesis that the separation of the L2 cache between E-Cores and P-Cores can introduce significant latency when switching between them. By binding threads to specific core types, as demonstrated in Cyberpunk 2077, performance can be optimized.</p>\n<p>Here is my result on my i7 13700KF CPU (128GB DDR4 3200 Ram, Win 11)</p>\n<div><pre class=\"hljs\"><code>.<span class=\"hljs-string\">\\bench.exe</span> \n<span class=\"hljs-built_in\">Number</span> <span class=\"hljs-keyword\">of</span> P-Cores: <span class=\"hljs-number\">8</span>\n<span class=\"hljs-built_in\">Number</span> <span class=\"hljs-keyword\">of</span> E-Cores: <span class=\"hljs-number\">8</span>\nBenchmark completed <span class=\"hljs-keyword\">in</span> <span class=\"hljs-number\">11180</span> milliseconds.\n.<span class=\"hljs-string\">\\bench.exe</span> --p-core-only\n<span class=\"hljs-built_in\">Number</span> <span class=\"hljs-keyword\">of</span> P-Cores: <span class=\"hljs-number\">8</span>\n<span class=\"hljs-built_in\">Number</span> <span class=\"hljs-keyword\">of</span> E-Cores: <span class=\"hljs-number\">8</span>\nBenchmark completed <span class=\"hljs-keyword\">in</span> <span class=\"hljs-number\">7261</span> milliseconds.\n.<span class=\"hljs-string\">\\bench.exe</span> --e-core-only\n<span class=\"hljs-built_in\">Number</span> <span class=\"hljs-keyword\">of</span> P-Cores: <span class=\"hljs-number\">8</span>\n<span class=\"hljs-built_in\">Number</span> <span class=\"hljs-keyword\">of</span> E-Cores: <span class=\"hljs-number\">8</span>\nBenchmark completed <span class=\"hljs-keyword\">in</span> <span class=\"hljs-number\">7447</span> milliseconds.</code></pre></div>\n<h1 id=\"conclusion\">Conclusion</h1>\n<p>The benchmark program provided valuable insights into the performance impact of context switching between P-Cores and E-Cores on Intel CPUs. It highlighted the importance of considering the architectural differences between core types when designing and optimizing software.</p>\n<p>The results supported the hypothesis that the separation of the L2 cache can introduce latency when switching between E-Cores and P-Cores, and that binding threads to specific core types can lead to performance improvements.</p>\n<p>I think this may have a even large impact on seperated big.little CPUs like Quadcomm SnapDragon 810. Further exploration and testing on different CPU models and workloads would be beneficial to gain a more comprehensive understanding of the performance characteristics of P-Cores and E-Cores due to their physical latencies.</p>\n<p>Nonetheless, this experiment serves as a starting point for developers to investigate and optimize their software for heterogeneous CPU architectures. By strategically assigning threads to specific core types and minimizing context switching between E-Cores and P-Cores, developers can potentially improve performance and leverage the full potential of modern desktop/mobile CPUs (even Intel is planned to drop E-Core soon).</p>\n<h1 id=\"appendix\">Appendix</h1>\n<p>gist: <a title=\"https://gist.github.com/abbychau/8ac93aa252be9d37b7a69d93e09ab004\" href=\"https://gist.github.com/abbychau/8ac93aa252be9d37b7a69d93e09ab004\">https://gist.github.com/abbychau/8ac93aa252be9d37b7a69d93e09ab004</a></p>\n<p>main.cpp performance(by multiplying iterations for 100):<br />\n<img src=\"/_resources/64ca3cc703a347cfafb7f8cd1be5ba97.png\" /></p>\n","meta":{}},{"published":true,"noteId":"397872b317ab40718e0f9bff0e148156","createdAt":1667224524923,"updatedAt":1714390713626,"tags":[],"content":"Abby 的Joplin Blog 設定方法\n\n主題和Blog 內容只限Abby 使用，和讓我自己日後參考，以下路徑請按個人需求修改。\n\n1. https://github.com/settings/tokens , 建立一個public_repo(這個就夠) 的token\n2. 打開 C:\\Users\\abbyc\\\\.config\\joplin-desktop\\plugin-data\n3. git clone https://github.com/abbychau/joplin-plugin-page-publisher-theme ylc395.pagesPublisher\n4. ctrl+shift+p -> 選 publisher\n5. 按Generate -> http://localhost:3000 檢查有沒有錯誤\n\n完\n\n註: 不知何故 `_assets/main.css` 沒法引入，暫時完全inline。","url":"joplin-blog","title":"Joplin Blog 設定方法","fullUrl":"article/joplin-blog","htmlContent":"<p>Abby 的Joplin Blog 設定方法</p>\n<p>主題和Blog 內容只限Abby 使用，和讓我自己日後參考，以下路徑請按個人需求修改。</p>\n<ol>\n<li><a title=\"https://github.com/settings/tokens\" href=\"https://github.com/settings/tokens\">https://github.com/settings/tokens</a> , 建立一個public_repo(這個就夠) 的token</li>\n<li>打開 C:\\Users\\abbyc\\.config\\joplin-desktop\\plugin-data</li>\n<li>git clone <a title=\"https://github.com/abbychau/joplin-plugin-page-publisher-theme\" href=\"https://github.com/abbychau/joplin-plugin-page-publisher-theme\">https://github.com/abbychau/joplin-plugin-page-publisher-theme</a> ylc395.pagesPublisher</li>\n<li>ctrl+shift+p -&gt; 選 publisher</li>\n<li>按Generate -&gt; <a title=\"http://localhost:3000\" href=\"http://localhost:3000\">http://localhost:3000</a> 檢查有沒有錯誤</li>\n</ol>\n<p>完</p>\n<p>註: 不知何故 <code>_assets/main.css</code> 沒法引入，暫時完全inline。</p>\n","meta":{}},{"published":true,"noteId":"98a5b9338dd84aa8b53cacf612263750","createdAt":1661287980108,"updatedAt":1661288611769,"tags":["拼圖遊戲","遊戲","音樂遊戲","東方project"],"content":"東方スペルバブル太好玩了!\n\n我一直都想過要有一隻puz + mus 的遊戲, 一直想法是寫一隻\"按照節奏下落俄羅斯方塊\"。\n\n但試過一下後發覺有點難。\n\n沒想到我守株待兔待到了東方咒術泡泡！裡面用的還是一堆經典同人東方音樂！\n\n![d7b4d6222ef307b7ed7fd8cf9ecba536.png](:/1d48ba0e66f442c894458b284d26c3a1)\n\n(我就一直好奇神主就不叫東家開發一隻嗎?\n\n\n\n東方咒術泡泡（下稱東咒／東泡）有很多很經典的東方同人音樂。\n\n玩法上有幾個大點：\n\n一：我用這集和我比較熟悉的Puzzle Bubble 4 的系統比較, 東咒容許斜角穿透，而且判定很大，裡面有極多的特殊方塊，如何迅速地利用正面方塊和抵消負面方塊是這一集的重點之一。同時它移除了4代的連鎖系統，但排珠變得更為整齊，有更多的相連。\n\n二：比起是4代，東泡更注重大塊消除取分。因為有一個取分的方法是把四枚以上消除的珠按8分音符（半拍）的速度消失，而踩中譜面的符點的會在面板中出現特殊的標記。準確地按拍子打中標記會得分。而掉下消除則還是能用以攻擊。\n\n三是對戰方面：對戰中大約可以分為兩個目標，一是盡量取得可以從「二」上取得的得分，二是把對方推死，和一般的PUZ不一樣，對方被推死後不會完結，也不會得到賽點，而是對方會把版面上的珠加到你的總分中，而對方會進入一個珠排得不錯的無敵狀態，直到版面全清為止。通常一方被殺後總分會落後很多，幾乎沒法透過打NOTE追回來。\n\n對戰會在歌曲播完後完結，比較雙方得分來決勝負。（這點就挺音遊的）\n\n服務於第二三點的有這一集獨有的「主動下降系統」，玩家可以透過按一個按鍵自願下降一行，以構成更大的大塊同色珠來漲分和攻擊，缺點是容易被對手突擊推死。\n\n四是符卡和覺醒：符卡是這集獨有的防守方式／攻擊方式／漲分方式。每個人都有前所未見過的三招符卡，在一定秒數（按技能不同冷卻約50至100秒）後可以發動。所以在極端情況下可以拖下落回合幾秒等冷卻。覺醒是在主動消夠一定方塊後進入的類PUZZLE 模式，可以大量漲分和攻擊，然後還會重置版面讓你擺脫危機。\n\n五是譜面：這和DJMAX 很像，不同的場合按FEVER 的分數可以差無數倍。因為「二」的原因，在清板時譜面密不密集也會大量影響能取得的分數。所以在消關鍵珠時可以等一下音樂。\n\n六就是節奏了，節奏型通常很簡單，尤其是對東方廚來說，簡直就是回家的路一樣。但這個節奏在對攻時還是要在心裡保持，這就是個很獨特的體驗了。\n\n\n\n總括來說，就是一隻無論對手強不強，你都可以用盡全力一瞬就進入眼珠和腦袋不停打轉的狀態，這通常是痛苦的，但伴隨著這些熟識的歌曲，卻是又忙碌又愉快。對戰系統整體來說上限很高（尤其那「主動下降系統」給予比以前更大的老手操作的餘量），不是新手練幾天就可以和人或者和挑戰關卡對戰的那種遊戲。\n\n東咒對泡泡龍對戰、東方PROJECT 歌曲的熟悉度、節奏準度、冒險與保守的策略轉換、一心（眼）多用（讀譜、puzzle解板、組板進攻、計算符卡和覺醒、觀察對手的攻防階段等）都有一定的要求。算是只能用心流玩，一玩就只能進心流的奇特體驗，單就這個體驗就值得一玩了。\n\n這網站有遊戲中收錄的所有歌曲: https://www.taito.co.jp/touhouSB/music\n（基本上百分之九十都是名曲了）\n\n這遊戲是TAITO 最棒的資源整合。就遊戲開發流程來說，這應沒花甚麼成本，卻是這麼的新奇。為新嘗試鼓掌。\n\n","url":"touhou-spell-bubble","title":"東方スペルバブル(東方咒術泡泡)","fullUrl":"article/touhou-spell-bubble","htmlContent":"<p>東方スペルバブル太好玩了!</p>\n<p>我一直都想過要有一隻puz + mus 的遊戲, 一直想法是寫一隻\"按照節奏下落俄羅斯方塊\"。</p>\n<p>但試過一下後發覺有點難。</p>\n<p>沒想到我守株待兔待到了東方咒術泡泡！裡面用的還是一堆經典同人東方音樂！</p>\n<p><img src=\"/_resources/1d48ba0e66f442c894458b284d26c3a1.png\" /></p>\n<p>(我就一直好奇神主就不叫東家開發一隻嗎?</p>\n<p>東方咒術泡泡（下稱東咒／東泡）有很多很經典的東方同人音樂。</p>\n<p>玩法上有幾個大點：</p>\n<p>一：我用這集和我比較熟悉的Puzzle Bubble 4 的系統比較, 東咒容許斜角穿透，而且判定很大，裡面有極多的特殊方塊，如何迅速地利用正面方塊和抵消負面方塊是這一集的重點之一。同時它移除了4代的連鎖系統，但排珠變得更為整齊，有更多的相連。</p>\n<p>二：比起是4代，東泡更注重大塊消除取分。因為有一個取分的方法是把四枚以上消除的珠按8分音符（半拍）的速度消失，而踩中譜面的符點的會在面板中出現特殊的標記。準確地按拍子打中標記會得分。而掉下消除則還是能用以攻擊。</p>\n<p>三是對戰方面：對戰中大約可以分為兩個目標，一是盡量取得可以從「二」上取得的得分，二是把對方推死，和一般的PUZ不一樣，對方被推死後不會完結，也不會得到賽點，而是對方會把版面上的珠加到你的總分中，而對方會進入一個珠排得不錯的無敵狀態，直到版面全清為止。通常一方被殺後總分會落後很多，幾乎沒法透過打NOTE追回來。</p>\n<p>對戰會在歌曲播完後完結，比較雙方得分來決勝負。（這點就挺音遊的）</p>\n<p>服務於第二三點的有這一集獨有的「主動下降系統」，玩家可以透過按一個按鍵自願下降一行，以構成更大的大塊同色珠來漲分和攻擊，缺點是容易被對手突擊推死。</p>\n<p>四是符卡和覺醒：符卡是這集獨有的防守方式／攻擊方式／漲分方式。每個人都有前所未見過的三招符卡，在一定秒數（按技能不同冷卻約50至100秒）後可以發動。所以在極端情況下可以拖下落回合幾秒等冷卻。覺醒是在主動消夠一定方塊後進入的類PUZZLE 模式，可以大量漲分和攻擊，然後還會重置版面讓你擺脫危機。</p>\n<p>五是譜面：這和DJMAX 很像，不同的場合按FEVER 的分數可以差無數倍。因為「二」的原因，在清板時譜面密不密集也會大量影響能取得的分數。所以在消關鍵珠時可以等一下音樂。</p>\n<p>六就是節奏了，節奏型通常很簡單，尤其是對東方廚來說，簡直就是回家的路一樣。但這個節奏在對攻時還是要在心裡保持，這就是個很獨特的體驗了。</p>\n<p>總括來說，就是一隻無論對手強不強，你都可以用盡全力一瞬就進入眼珠和腦袋不停打轉的狀態，這通常是痛苦的，但伴隨著這些熟識的歌曲，卻是又忙碌又愉快。對戰系統整體來說上限很高（尤其那「主動下降系統」給予比以前更大的老手操作的餘量），不是新手練幾天就可以和人或者和挑戰關卡對戰的那種遊戲。</p>\n<p>東咒對泡泡龍對戰、東方PROJECT 歌曲的熟悉度、節奏準度、冒險與保守的策略轉換、一心（眼）多用（讀譜、puzzle解板、組板進攻、計算符卡和覺醒、觀察對手的攻防階段等）都有一定的要求。算是只能用心流玩，一玩就只能進心流的奇特體驗，單就這個體驗就值得一玩了。</p>\n<p>這網站有遊戲中收錄的所有歌曲: <a title=\"https://www.taito.co.jp/touhouSB/music\" href=\"https://www.taito.co.jp/touhouSB/music\">https://www.taito.co.jp/touhouSB/music</a><br />\n（基本上百分之九十都是名曲了）</p>\n<p>這遊戲是TAITO 最棒的資源整合。就遊戲開發流程來說，這應沒花甚麼成本，卻是這麼的新奇。為新嘗試鼓掌。</p>\n","meta":{}},{"published":true,"noteId":"fe689627ad4b4e81b7f2ca63c92874e3","createdAt":1660738344882,"updatedAt":1660738442659,"tags":["database"],"content":"在MySQL  中，如果資料很多，為了同一個索引的參數可以高速存取，我們都會分區，而分區又有很多的方法。\n\n其中要平均散序時，我們有Hash 和Linear Hash 兩種。\n\n這兩種有甚麼分別呢？\n在我尋找過一陣子之後，好像沒有人解釋Linear Hash 的原理和實際的Trade off。幾乎全部人都滿足於官方文檔中的這個描述。\n\n> The advantage in partitioning by linear hash is that the adding, dropping, merging, and splitting of partitions is made much faster, which can be beneficial when dealing with tables containing extremely large amounts (terabytes) of data. The disadvantage is that data is less likely to be evenly distributed between partitions as compared with the distribution obtained using regular hash partitioning.\n\n中文:\n> 通過線性哈希進行分區的優勢在於，分區的添加，刪除，合併和拆分變得更快，這在處理包含大量數據(兆兆字節)的 table 時可能是有益的。缺點是，與使用常規哈希分區獲得的分佈相比，數據可能在分區之間不太均勻分佈。\n\n算法和說明：https://dev.mysql.com/doc/refman/5.6/en/partitioning-linear-hash.html\n\n\n\n前面的更快兩個字是單調優勢，但在後面的一句 `data is less likely to be evenly distributed between partitions` 就很含糊了。\n\n雖然重組分區的人很少，甚至在實務上都不會把這當成常規操作。可能因為這個原因，我在網上幾乎找不到Linear Hash 的經驗分享。就連它的長處有多長和短處有多短都沒找到。\n這看起來對橫向擴展明明很有益處的。\n\n這個less likely 到底有多less 呢?\n\n相似的疑問在這個SE 的冷門答案有提過。https://stackoverflow.com/questions/59650198/mysql-linear-hash-partitioning\n\n```\nV = POWER(2, CEILING(LOG(2, num)))\nN = F(k) & (V - 1)\nWhile N >= num\n{ V = V / 2 \n  N = N & (V - 1)\n}\nAssign key k to N\n```\n~~是甚麼鬼東西，是人話嗎？~~\n\n\n\n那麼我做個測試吧。\n\n跟據這份文件: https://github.com/mysql/mysql-server/blob/8.0/sql/sql_partition.cc#L1378\n\n我試著重現一個Linear Hash 的結果。\n\n我花了一點時間寫了下面的C++ 代碼:\n\n```c++\n#include <iostream>\n#include <stdint.h>\n\ntypedef uint32_t uint32;\ntypedef int64_t longlong;\n// typedef uint\nusing namespace std;\n\nuint get_linear_hash_mask(uint num_parts) {\n  uint mask;\n\n  for (mask = 1; mask < num_parts; mask <<= 1)\n    ;\n  return mask - 1;\n}\n\nstatic uint32 get_part_id_from_linear_hash(longlong hash_value, uint mask,\n                                           uint num_parts) {\n  uint32 part_id = (uint32)(hash_value & mask);\n\n  if (part_id >= num_parts) {\n    uint new_mask = ((mask + 1) >> 1) - 1;\n    part_id = (uint32)(hash_value & new_mask);\n  }\n  return part_id;\n}\nint main()\n{\n    int p=10;\n    for(int i =0;i<=200;i++){\n        cout<<get_part_id_from_linear_hash(i,get_linear_hash_mask(p),p)<<\",\";\n    }\n    cout<<\"\\n\";\n    for(int i =0;i<=2000;i+=10){\n        cout<<get_part_id_from_linear_hash(i,get_linear_hash_mask(p),p)<<\",\";\n    }\n    cout<<\"\\n\";\n    for(int i =0;i<=2000;i+=4){\n        cout<<get_part_id_from_linear_hash(i,get_linear_hash_mask(6),6)<<\",\";\n    }\n    \n\n    return 0;\n}\n```\n\n```\n0,1,2,3,4,5,6,7,8,9,2,3,4,5,6,7,0,1,2,3,4,5,6,7,8,9,2,3,4,5,6,7,0,1,2,3,4,5,6,7,8,9,2,3,4,5,6,7,0,1,2,3,4,5,6,7,8,9,2,3,4,5,6,7,0,1,2,3,4,5,6,7,8,9,2,3,4,5,6,7,0,1,2,3,4,5,6,7,8,9,2,3,4,5,6,7,0,1,2,3,4,5,6,7,8,9,2,3,4,5,6,7,0,1,2,3,4,5,6,7,8,9,2,3,4,5,6,7,0,1,2,3,4,5,6,7,8,9,2,3,4,5,6,7,0,1,2,3,4,5,6,7,8,9,2,3,4,5,6,7,0,1,2,3,4,5,6,7,8,9,2,3,4,5,6,7,0,1,2,3,4,5,6,7,8,9,2,3,4,5,6,7,0,1,2,3,4,5,6,7,8,\n0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,2,4,6,8,2,4,6,0,\n0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,\n\n```\n\n可見上面是個無迴圈的高速取餘(利用位遮蔽)。這對於一般的HASH 或者自增鍵來說是沒問題的。但是如果數據的值間隔和分區數其中是另一個的倍數或有公因數組合時，分配就會不平了。\n\n希望這文章能幫到一些人吧。","url":"mysql-linear-hash","title":"MySQL 的Linear Hash 到底有多「不亂」","fullUrl":"article/mysql-linear-hash","htmlContent":"<p>在MySQL  中，如果資料很多，為了同一個索引的參數可以高速存取，我們都會分區，而分區又有很多的方法。</p>\n<p>其中要平均散序時，我們有Hash 和Linear Hash 兩種。</p>\n<p>這兩種有甚麼分別呢？<br />\n在我尋找過一陣子之後，好像沒有人解釋Linear Hash 的原理和實際的Trade off。幾乎全部人都滿足於官方文檔中的這個描述。</p>\n<blockquote>\n<p>The advantage in partitioning by linear hash is that the adding, dropping, merging, and splitting of partitions is made much faster, which can be beneficial when dealing with tables containing extremely large amounts (terabytes) of data. The disadvantage is that data is less likely to be evenly distributed between partitions as compared with the distribution obtained using regular hash partitioning.</p>\n</blockquote>\n<p>中文:</p>\n<blockquote>\n<p>通過線性哈希進行分區的優勢在於，分區的添加，刪除，合併和拆分變得更快，這在處理包含大量數據(兆兆字節)的 table 時可能是有益的。缺點是，與使用常規哈希分區獲得的分佈相比，數據可能在分區之間不太均勻分佈。</p>\n</blockquote>\n<p>算法和說明：<a title=\"https://dev.mysql.com/doc/refman/5.6/en/partitioning-linear-hash.html\" href=\"https://dev.mysql.com/doc/refman/5.6/en/partitioning-linear-hash.html\">https://dev.mysql.com/doc/refman/5.6/en/partitioning-linear-hash.html</a></p>\n<p>前面的更快兩個字是單調優勢，但在後面的一句 <code>data is less likely to be evenly distributed between partitions</code> 就很含糊了。</p>\n<p>雖然重組分區的人很少，甚至在實務上都不會把這當成常規操作。可能因為這個原因，我在網上幾乎找不到Linear Hash 的經驗分享。就連它的長處有多長和短處有多短都沒找到。<br />\n這看起來對橫向擴展明明很有益處的。</p>\n<p>這個less likely 到底有多less 呢?</p>\n<p>相似的疑問在這個SE 的冷門答案有提過。<a title=\"https://stackoverflow.com/questions/59650198/mysql-linear-hash-partitioning\" href=\"https://stackoverflow.com/questions/59650198/mysql-linear-hash-partitioning\">https://stackoverflow.com/questions/59650198/mysql-linear-hash-partitioning</a></p>\n<div><pre class=\"hljs\"><code>V = <span class=\"hljs-built_in\">POWER</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-built_in\">CEILING</span>(<span class=\"hljs-built_in\">LOG</span>(<span class=\"hljs-number\">2</span>, num)))\n<span class=\"hljs-built_in\">N</span> = F(k) &amp; (V - <span class=\"hljs-number\">1</span>)\nWhile <span class=\"hljs-built_in\">N</span> &gt;= num\n{ V = V / <span class=\"hljs-number\">2</span> \n  <span class=\"hljs-built_in\">N</span> = <span class=\"hljs-built_in\">N</span> &amp; (V - <span class=\"hljs-number\">1</span>)\n}\nAssign key k to <span class=\"hljs-built_in\">N</span></code></pre></div>\n<p><s>是甚麼鬼東西，是人話嗎？</s></p>\n<p>那麼我做個測試吧。</p>\n<p>跟據這份文件: <a title=\"https://github.com/mysql/mysql-server/blob/8.0/sql/sql_partition.cc#L1378\" href=\"https://github.com/mysql/mysql-server/blob/8.0/sql/sql_partition.cc#L1378\">https://github.com/mysql/mysql-server/blob/8.0/sql/sql_partition.cc#L1378</a></p>\n<p>我試著重現一個Linear Hash 的結果。</p>\n<p>我花了一點時間寫了下面的C++ 代碼:</p>\n<div><pre class=\"hljs\"><code><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;iostream&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;stdint.h&gt;</span></span>\n\n<span class=\"hljs-keyword\">typedef</span> <span class=\"hljs-type\">uint32_t</span> uint32;\n<span class=\"hljs-keyword\">typedef</span> <span class=\"hljs-type\">int64_t</span> longlong;\n<span class=\"hljs-comment\">// typedef uint</span>\n<span class=\"hljs-keyword\">using</span> <span class=\"hljs-keyword\">namespace</span> std;\n\n<span class=\"hljs-function\">uint <span class=\"hljs-title\">get_linear_hash_mask</span><span class=\"hljs-params\">(uint num_parts)</span> </span>{\n  uint mask;\n\n  <span class=\"hljs-keyword\">for</span> (mask = <span class=\"hljs-number\">1</span>; mask &lt; num_parts; mask &lt;&lt;= <span class=\"hljs-number\">1</span>)\n    ;\n  <span class=\"hljs-keyword\">return</span> mask - <span class=\"hljs-number\">1</span>;\n}\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">static</span> uint32 <span class=\"hljs-title\">get_part_id_from_linear_hash</span><span class=\"hljs-params\">(longlong hash_value, uint mask,\n                                           uint num_parts)</span> </span>{\n  uint32 part_id = (uint32)(hash_value &amp; mask);\n\n  <span class=\"hljs-keyword\">if</span> (part_id &gt;= num_parts) {\n    uint new_mask = ((mask + <span class=\"hljs-number\">1</span>) &gt;&gt; <span class=\"hljs-number\">1</span>) - <span class=\"hljs-number\">1</span>;\n    part_id = (uint32)(hash_value &amp; new_mask);\n  }\n  <span class=\"hljs-keyword\">return</span> part_id;\n}\n<span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span>\n</span>{\n    <span class=\"hljs-type\">int</span> p=<span class=\"hljs-number\">10</span>;\n    <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-type\">int</span> i =<span class=\"hljs-number\">0</span>;i&lt;=<span class=\"hljs-number\">200</span>;i++){\n        cout&lt;&lt;<span class=\"hljs-built_in\">get_part_id_from_linear_hash</span>(i,<span class=\"hljs-built_in\">get_linear_hash_mask</span>(p),p)&lt;&lt;<span class=\"hljs-string\">\",\"</span>;\n    }\n    cout&lt;&lt;<span class=\"hljs-string\">\"\\n\"</span>;\n    <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-type\">int</span> i =<span class=\"hljs-number\">0</span>;i&lt;=<span class=\"hljs-number\">2000</span>;i+=<span class=\"hljs-number\">10</span>){\n        cout&lt;&lt;<span class=\"hljs-built_in\">get_part_id_from_linear_hash</span>(i,<span class=\"hljs-built_in\">get_linear_hash_mask</span>(p),p)&lt;&lt;<span class=\"hljs-string\">\",\"</span>;\n    }\n    cout&lt;&lt;<span class=\"hljs-string\">\"\\n\"</span>;\n    <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-type\">int</span> i =<span class=\"hljs-number\">0</span>;i&lt;=<span class=\"hljs-number\">2000</span>;i+=<span class=\"hljs-number\">4</span>){\n        cout&lt;&lt;<span class=\"hljs-built_in\">get_part_id_from_linear_hash</span>(i,<span class=\"hljs-built_in\">get_linear_hash_mask</span>(<span class=\"hljs-number\">6</span>),<span class=\"hljs-number\">6</span>)&lt;&lt;<span class=\"hljs-string\">\",\"</span>;\n    }\n    \n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}</code></pre></div>\n<div><pre class=\"hljs\"><code><span class=\"hljs-attribute\">0</span>,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">9</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">9</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">9</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">9</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">9</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">9</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">9</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">9</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">9</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">9</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">9</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">9</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">7</span>,<span class=\"hljs-number\">8</span>,\n<span class=\"hljs-attribute\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">0</span>,\n<span class=\"hljs-attribute\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>,\n</code></pre></div>\n<p>可見上面是個無迴圈的高速取餘(利用位遮蔽)。這對於一般的HASH 或者自增鍵來說是沒問題的。但是如果數據的值間隔和分區數其中是另一個的倍數或有公因數組合時，分配就會不平了。</p>\n<p>希望這文章能幫到一些人吧。</p>\n","meta":{}},{"published":true,"noteId":"d47d2f861b3b42d582418491659e068f","createdAt":1660735408574,"updatedAt":1660738192282,"tags":["遊戲","音樂遊戲"],"content":"這是個大問題，大到要從譜面的起源中談起。\n\n首先大家要認同彈鋼琴和打爵士鼓廣義來說也是音樂遊戲的一種。\n\n比如說iOS 的Simply Piano：\n\n![897beccaa9a642b6d26f95bc4e9e1cef.png](:/a4a9e1906fc149088b78129dfa2c46d7)\n\n和機廳的Doogi Doogi的真實模式：\n\n![50cdd3aab96754656e85fe5280b17549.png](:/646a506a010f462c837ef313709077c4)\nhttps://www.youtube.com/watch?v=trJbt4w5UB4\n\n他們拿了五線譜作爲遊戲譜面，所以他們可以做到完全把一層的樂器軌拿走。\n\n但上手的難度很高，也有人玩simply piano 玩高級後直接去考級了（連樂理都順面補上）。\n\n完全擬真的好處是，演奏爽度很高，但操作爽度很低，很多人玩音遊或多或少都希望打得又快又多，擬真起上來就太花時間了。\n\n\n\n所以就出現了Keyboard Mania和Beatmania。\n\nKM有很多的譜面還是可以對應同音階的，而早期的BM 也是儘量把重一個音色匹配到同一個鍵上面，以儘量模擬FX 控制器爲基礎。\n\n但我們可以看到很多自動化的東西出現了，比如說自動換音色。\n\n在這時，我認爲的好譜有綠の風和Pink Rose 這兩首在KM 誔生的名曲。前者是由Easy, Normal, Normal+ 到Real 都是在操作器範內來很完整表示，而且對原曲有很階段性完成度的譜，這四份譜即使單獨拿出來到鋼琴上使用也是有欣賞價值。而Pink Rose 則是令大家瞭解到這是一臺Keyboard 而不是鋼琴。我想說KM 上面的幾乎都是好譜。\n\n![9d3b8a572b11a6265b3a20ff933f7ea6.png](:/0ecb5cbfdbe44070a001c21a22ea6805)\n\nhttps://www.youtube.com/watch?v=-JNryW_3vQ0\n\nKM 的話Drunk Monkey 和 20, November 等等很多電子舞曲都是很用心起挑選了代表性高的FX 作爲譜面，以至把FX 單獨使用起來已經成爲這首音樂的一大部分了。但一直髮展下去，開始多人玩時，有人就希望移植，比如說The Least 100 sec. ，因爲鋼琴部分很多，所以強行匹配時就變成前樓梯（階段）和後樓梯，或者亂鍵，打起上來有一定爽度，但在這個標準來說就是差譜了。\n\n自此以來，譜面好壞就有了這兩個標準。\n\n到VOS和KM7K 出現時，因爲是一人合奏，所以在操作時可以分段嘗試，比如說第一段琴，電腦幫我伴鼓和結他，第二段我就做鼓了，第三段再換成結他。或者，其中兩個鍵是鼓的兩個點，其他是主旋律等等，這是在按鍵變多後的好處。但到這個時期，人們已經慢慢接受了頻率後高的自動匹配更新。\n\n在這個時期，堅持長期間匹配就是好譜了。這個情意結到很後期都還在的。\n\n比如說：到o2jam 的Blade。\n\n\n令人容易疲勞，長達一分半鐘的交替連押\nhttps://www.youtube.com/watch?v=Ra31pN4cJW8&ab_channel=TEPES\n\n![52adee338e5913514e96e8d7c181dbda.png](:/0033e64b688b4af9b6a9835811a744fa)\n\n我認爲這是在mp3 時期回頭向Canmusic 致敬的表現。\n\n但這個時候音樂遊戲已經是大衆娛樂了，很多人都抱怨：這種譜又難讀又不爽，其實還是擬真和順手的矛盾。但大部分人在這個時期已經覺得：順手譜纔是好譜。\n\n甚至，連無調性的DDR 也是有這問題：譜一定要造成理論上可順腳嗎？\n\nDrum Mania 和 Guitar Freak 常常都連在一起說，但譜面上要分開來說。\n\nDM 和BM 的道路十分相似，DM 一直是標榜自己的高模擬度，在框體上是寫着鼓模擬器的。\n\n但到後來玩家水平提高後，爲了滿足在短時間來擊打後多的滿足感，出現了很多在現實中十分沒有意義，音量很低(尤其在BassDrum)的記號來充場面。\n\n所以我引有一個概念：就是Note 音量和音色和音調的可解釋性。這在簡單譜上很容易做到，但在難譜上，就要看製譜者用不用心了，DM甚至會出現同一個位連續三個不同音色的這回事。\n\n好譜可以看一下Toccata 和 Dragon Blade。 \n\nhttps://www.youtube.com/watch?v=kXKHdwHUv-s\n\n![028c123b6ef3cc416cf07851d2568c8f.png](:/459599d618e8492ba0eaf9b49d64d6e8)\n\n而GF 不是完全模擬演奏的，無論上面的幾個鍵是用來模擬自動和絃器或是真實的按弦，在譜面上都沒法解釋，但演出音效而全是結他或者Bass 的部分。\n\n其實，無論音樂和譜面都是音遊很重要的部分，好的譜面無一不是爲了該遊戲而製作的音樂而產生的。\n\n可惜，在這個時期我們從音樂和譜面交相迭代而產生一隻遊戲，進入了一個先音樂後譜面的年代。\n\n這時候評價譜面多了很多元素，有很多都是hype feature。\n\n進入這個時代不得不提太鼓之達人的升溫，太鼓的演奏很像拍手，是很純粹的節奏遊戲。但音樂是由節奏和音階組成的。DM 對音色還算有一定的複雜度，但太鼓就完全簡化成兩個階度了。和節奏天國（リズム天國）也差不遠了。所以評價太鼓的譜面時我們反而又更在乎但和音樂本身的合襯度了，而其實這和譜本身沒有關係，這是在評價另一首音樂而已。而音樂性來說，我覺得夏祭り本身十分和太鼓十分合襯，但無論如何，都有大量的主觀成分在裏面。\n\n但進入完全抽象化的音遊之前。。。\n\n其實還有一種擬真的音遊，像是Dance Central和Dance Evolution (Arcade)，而評價編舞我就不詳寫了，因爲和其他的沒有很大的可比性。如果要對比投票，DEA 取得大部分的票也說不定。。。\n\n（當然原因也可能是有很多女玩家\n![c7f4a69c385b0c98ce056e54e1eb7a3c.png](:/095a49b363db49ccb484fac835a674e3)\n\nJubeat 本來是想模擬像Launchpad 這種midi 控制器的，但因爲抽象程度太高了，所以很快就變成一隻很單純的十六鍵節奏遊戲了。各種各樣的圖案押和文字押也影響了後來像MaiMai 這樣的有觸屏元素的音遊。Reflectbeat 從出生就已經是節奏遊戲了，那就一同帶過了。\n\n圖案押和文字押會不會是優秀的標準之一，我交給各人的主觀判斷好了。但是，這也可能成爲垃圾的標準，因爲他們和音樂是沒有關係的。SDVX引入大量的flanger 和Remix 音樂反而令人有回到BM5K 那種譜面和音樂互相扶持的感覺，比如說兩個FX按鈕和兩個旋鈕都很能表達出他們對音樂本身的作用，但到近年，譜面都無可避免地由爲音樂服務變爲向玩家服務了。\n\n\n一個很典型的SDVX 譜，中間的Z字型和彎型其實沒有影響 \nhttps://www.youtube.com/watch?v=VVw9o6kSDtc&ab_channel=GGD\n![bb40cca193b8c56e749df0e902474b4d.png](:/391cf06567bf465e9ecb7206e7081769)\n\nIIDX 和SDVX 也收入了很多視覺元素，比起說中間演出時間。時出最好看的可能要數另一隻節拍遊戲：Groove Coaster。\n\n那麼，演出好不好看，也成爲了譜面優不優秀的評價標準了嗎？\n\n![7435214b1723aa5fc8676745ac4899c3.png](:/fae48b143e044cd3814ece26632bc923)\n\nhttps://www.youtube.com/watch?v=Gemrr2Nr0I4&list=PLEHZ6dXqCTK1DWlgPihrmq6DF-luheH0-\n\n不計Groove Coaster 那種把譜面直接變成動畫的節拍遊戲。SDVX的傾側，出軌和旋轉等等對操作並無任何額外資訊的表現方式。這反而對日後的手遊音遊產生了很多影響，現在的手遊也出現了很多譜面上的特效，而因爲觸屏的特性，也直接可對操作產生影響。同期還有Djmax Technica，這隻遊戲基本上確立了現代手音遊的路向。\n\n\nLL, SIF等等定軌的不說了。\n\n很多時，手遊中拼的除了原創曲之外，就是演出了。\n\nGroove Coaster 之外Dynamix , Deemo, Cytus, Zyon, voez, Crossbeat 等等之中，我覺得把不定軌和演出效果做得最好的我覺得是Lanota的系統了。\n\n效果就不截圖了，要看片的：https://www.youtube.com/watch?v=9Q5qvmu9bww\n\n除了加減速，它的軌道也包含了前進，後退，放大，旋轉，移動等等元素，在VOEZ 後，大家都直接在視譜器上動手腳了，我就想想下一步會時甚麼了。。。\n\n手遊部分待更新。。。","url":"good-note-chart","title":"音樂遊戲中甚麼是好譜面","fullUrl":"article/good-note-chart","htmlContent":"<p>這是個大問題，大到要從譜面的起源中談起。</p>\n<p>首先大家要認同彈鋼琴和打爵士鼓廣義來說也是音樂遊戲的一種。</p>\n<p>比如說iOS 的Simply Piano：</p>\n<p><img src=\"/_resources/a4a9e1906fc149088b78129dfa2c46d7.png\" /></p>\n<p>和機廳的Doogi Doogi的真實模式：</p>\n<p><img src=\"/_resources/646a506a010f462c837ef313709077c4.png\" /><br />\n<a title=\"https://www.youtube.com/watch?v=trJbt4w5UB4\" href=\"https://www.youtube.com/watch?v=trJbt4w5UB4\">https://www.youtube.com/watch?v=trJbt4w5UB4</a></p>\n<p>他們拿了五線譜作爲遊戲譜面，所以他們可以做到完全把一層的樂器軌拿走。</p>\n<p>但上手的難度很高，也有人玩simply piano 玩高級後直接去考級了（連樂理都順面補上）。</p>\n<p>完全擬真的好處是，演奏爽度很高，但操作爽度很低，很多人玩音遊或多或少都希望打得又快又多，擬真起上來就太花時間了。</p>\n<p>所以就出現了Keyboard Mania和Beatmania。</p>\n<p>KM有很多的譜面還是可以對應同音階的，而早期的BM 也是儘量把重一個音色匹配到同一個鍵上面，以儘量模擬FX 控制器爲基礎。</p>\n<p>但我們可以看到很多自動化的東西出現了，比如說自動換音色。</p>\n<p>在這時，我認爲的好譜有綠の風和Pink Rose 這兩首在KM 誔生的名曲。前者是由Easy, Normal, Normal+ 到Real 都是在操作器範內來很完整表示，而且對原曲有很階段性完成度的譜，這四份譜即使單獨拿出來到鋼琴上使用也是有欣賞價值。而Pink Rose 則是令大家瞭解到這是一臺Keyboard 而不是鋼琴。我想說KM 上面的幾乎都是好譜。</p>\n<p><img src=\"/_resources/0ecb5cbfdbe44070a001c21a22ea6805.png\" /></p>\n<p><a title=\"https://www.youtube.com/watch?v=-JNryW_3vQ0\" href=\"https://www.youtube.com/watch?v=-JNryW_3vQ0\">https://www.youtube.com/watch?v=-JNryW_3vQ0</a></p>\n<p>KM 的話Drunk Monkey 和 20, November 等等很多電子舞曲都是很用心起挑選了代表性高的FX 作爲譜面，以至把FX 單獨使用起來已經成爲這首音樂的一大部分了。但一直髮展下去，開始多人玩時，有人就希望移植，比如說The Least 100 sec. ，因爲鋼琴部分很多，所以強行匹配時就變成前樓梯（階段）和後樓梯，或者亂鍵，打起上來有一定爽度，但在這個標準來說就是差譜了。</p>\n<p>自此以來，譜面好壞就有了這兩個標準。</p>\n<p>到VOS和KM7K 出現時，因爲是一人合奏，所以在操作時可以分段嘗試，比如說第一段琴，電腦幫我伴鼓和結他，第二段我就做鼓了，第三段再換成結他。或者，其中兩個鍵是鼓的兩個點，其他是主旋律等等，這是在按鍵變多後的好處。但到這個時期，人們已經慢慢接受了頻率後高的自動匹配更新。</p>\n<p>在這個時期，堅持長期間匹配就是好譜了。這個情意結到很後期都還在的。</p>\n<p>比如說：到o2jam 的Blade。</p>\n<p>令人容易疲勞，長達一分半鐘的交替連押<br />\n<a title=\"https://www.youtube.com/watch?v=Ra31pN4cJW8&amp;ab_channel=TEPES\" href=\"https://www.youtube.com/watch?v=Ra31pN4cJW8&amp;ab_channel=TEPES\">https://www.youtube.com/watch?v=Ra31pN4cJW8&amp;ab_channel=TEPES</a></p>\n<p><img src=\"/_resources/0033e64b688b4af9b6a9835811a744fa.png\" /></p>\n<p>我認爲這是在mp3 時期回頭向Canmusic 致敬的表現。</p>\n<p>但這個時候音樂遊戲已經是大衆娛樂了，很多人都抱怨：這種譜又難讀又不爽，其實還是擬真和順手的矛盾。但大部分人在這個時期已經覺得：順手譜纔是好譜。</p>\n<p>甚至，連無調性的DDR 也是有這問題：譜一定要造成理論上可順腳嗎？</p>\n<p>Drum Mania 和 Guitar Freak 常常都連在一起說，但譜面上要分開來說。</p>\n<p>DM 和BM 的道路十分相似，DM 一直是標榜自己的高模擬度，在框體上是寫着鼓模擬器的。</p>\n<p>但到後來玩家水平提高後，爲了滿足在短時間來擊打後多的滿足感，出現了很多在現實中十分沒有意義，音量很低(尤其在BassDrum)的記號來充場面。</p>\n<p>所以我引有一個概念：就是Note 音量和音色和音調的可解釋性。這在簡單譜上很容易做到，但在難譜上，就要看製譜者用不用心了，DM甚至會出現同一個位連續三個不同音色的這回事。</p>\n<p>好譜可以看一下Toccata 和 Dragon Blade。</p>\n<p><a title=\"https://www.youtube.com/watch?v=kXKHdwHUv-s\" href=\"https://www.youtube.com/watch?v=kXKHdwHUv-s\">https://www.youtube.com/watch?v=kXKHdwHUv-s</a></p>\n<p><img src=\"/_resources/459599d618e8492ba0eaf9b49d64d6e8.png\" /></p>\n<p>而GF 不是完全模擬演奏的，無論上面的幾個鍵是用來模擬自動和絃器或是真實的按弦，在譜面上都沒法解釋，但演出音效而全是結他或者Bass 的部分。</p>\n<p>其實，無論音樂和譜面都是音遊很重要的部分，好的譜面無一不是爲了該遊戲而製作的音樂而產生的。</p>\n<p>可惜，在這個時期我們從音樂和譜面交相迭代而產生一隻遊戲，進入了一個先音樂後譜面的年代。</p>\n<p>這時候評價譜面多了很多元素，有很多都是hype feature。</p>\n<p>進入這個時代不得不提太鼓之達人的升溫，太鼓的演奏很像拍手，是很純粹的節奏遊戲。但音樂是由節奏和音階組成的。DM 對音色還算有一定的複雜度，但太鼓就完全簡化成兩個階度了。和節奏天國（リズム天國）也差不遠了。所以評價太鼓的譜面時我們反而又更在乎但和音樂本身的合襯度了，而其實這和譜本身沒有關係，這是在評價另一首音樂而已。而音樂性來說，我覺得夏祭り本身十分和太鼓十分合襯，但無論如何，都有大量的主觀成分在裏面。</p>\n<p>但進入完全抽象化的音遊之前。。。</p>\n<p>其實還有一種擬真的音遊，像是Dance Central和Dance Evolution (Arcade)，而評價編舞我就不詳寫了，因爲和其他的沒有很大的可比性。如果要對比投票，DEA 取得大部分的票也說不定。。。</p>\n<p>（當然原因也可能是有很多女玩家<br />\n<img src=\"/_resources/095a49b363db49ccb484fac835a674e3.png\" /></p>\n<p>Jubeat 本來是想模擬像Launchpad 這種midi 控制器的，但因爲抽象程度太高了，所以很快就變成一隻很單純的十六鍵節奏遊戲了。各種各樣的圖案押和文字押也影響了後來像MaiMai 這樣的有觸屏元素的音遊。Reflectbeat 從出生就已經是節奏遊戲了，那就一同帶過了。</p>\n<p>圖案押和文字押會不會是優秀的標準之一，我交給各人的主觀判斷好了。但是，這也可能成爲垃圾的標準，因爲他們和音樂是沒有關係的。SDVX引入大量的flanger 和Remix 音樂反而令人有回到BM5K 那種譜面和音樂互相扶持的感覺，比如說兩個FX按鈕和兩個旋鈕都很能表達出他們對音樂本身的作用，但到近年，譜面都無可避免地由爲音樂服務變爲向玩家服務了。</p>\n<p>一個很典型的SDVX 譜，中間的Z字型和彎型其實沒有影響<br />\n<a title=\"https://www.youtube.com/watch?v=VVw9o6kSDtc&amp;ab_channel=GGD\" href=\"https://www.youtube.com/watch?v=VVw9o6kSDtc&amp;ab_channel=GGD\">https://www.youtube.com/watch?v=VVw9o6kSDtc&amp;ab_channel=GGD</a><br />\n<img src=\"/_resources/391cf06567bf465e9ecb7206e7081769.png\" /></p>\n<p>IIDX 和SDVX 也收入了很多視覺元素，比起說中間演出時間。時出最好看的可能要數另一隻節拍遊戲：Groove Coaster。</p>\n<p>那麼，演出好不好看，也成爲了譜面優不優秀的評價標準了嗎？</p>\n<p><img src=\"/_resources/fae48b143e044cd3814ece26632bc923.png\" /></p>\n<p><a title=\"https://www.youtube.com/watch?v=Gemrr2Nr0I4&amp;list=PLEHZ6dXqCTK1DWlgPihrmq6DF-luheH0-\" href=\"https://www.youtube.com/watch?v=Gemrr2Nr0I4&amp;list=PLEHZ6dXqCTK1DWlgPihrmq6DF-luheH0-\">https://www.youtube.com/watch?v=Gemrr2Nr0I4&amp;list=PLEHZ6dXqCTK1DWlgPihrmq6DF-luheH0-</a></p>\n<p>不計Groove Coaster 那種把譜面直接變成動畫的節拍遊戲。SDVX的傾側，出軌和旋轉等等對操作並無任何額外資訊的表現方式。這反而對日後的手遊音遊產生了很多影響，現在的手遊也出現了很多譜面上的特效，而因爲觸屏的特性，也直接可對操作產生影響。同期還有Djmax Technica，這隻遊戲基本上確立了現代手音遊的路向。</p>\n<p>LL, SIF等等定軌的不說了。</p>\n<p>很多時，手遊中拼的除了原創曲之外，就是演出了。</p>\n<p>Groove Coaster 之外Dynamix , Deemo, Cytus, Zyon, voez, Crossbeat 等等之中，我覺得把不定軌和演出效果做得最好的我覺得是Lanota的系統了。</p>\n<p>效果就不截圖了，要看片的：<a title=\"https://www.youtube.com/watch?v=9Q5qvmu9bww\" href=\"https://www.youtube.com/watch?v=9Q5qvmu9bww\">https://www.youtube.com/watch?v=9Q5qvmu9bww</a></p>\n<p>除了加減速，它的軌道也包含了前進，後退，放大，旋轉，移動等等元素，在VOEZ 後，大家都直接在視譜器上動手腳了，我就想想下一步會時甚麼了。。。</p>\n<p>手遊部分待更新。。。</p>\n","meta":{}},{"published":true,"noteId":"04c2b3ee24fc4874aed77b9e6f7ee2be","createdAt":1660734290018,"updatedAt":1660735327144,"tags":["遊戲"],"content":"在MH 的世界中，龍屬性是個特別的東西。\n我是認真為了代入感而去補完世界規則，而令過程不成為操作一個機器人過關的第三人稱ARPG。\n我被問過一次這到底龍屬性是甚麼，所以很久以前答過一次。在這裡貼一下我的答案。\n\n龍屬性和水火雷冰不一樣的地方是，他本身是一種剋制屬性。\n舉例說：\n1. 水屬性剋火魔物，同時水魔物是耐水屬性的。\n2. 但是，龍屬性剋龍魔物，耐龍的卻是牙獸類。\n3. 牙獸帶的卻是物理和異常。\n\n所以在裝備上龍屬性就是一個一維的變量：\n用這種武器打龍魔物會更有效，但受穿龍魔物防具受到攻擊時也受更大傷害。\n\n雖然現實中沒有龍，還是可以想像得到那個世界就是就是有這種物理現象。\n\n但是！隱約發現矛盾出現了，因為用龍素材造的武器因為有龍屬性，對抗龍時有特效，\n而龍屬性對抗龍防具時，又有特效。\n就是說如果在MH 世界中，如果獵人打架，龍屬性武器會輕易地打入龍防具中。\n但為甚麼素材會懂得自我分開自己是防具還是武器呢？\n\n在遊戲中，防具和武器是清楚划分的，\n但假如兩人都手執一片大龍甲來比武，那麼相撞時會有甚麼效果呢？\n如果是一片、水片火那無論如何都是水的贏。\n那麼如果都是龍屬性素材呢？\n按上一段的邏輯，被當成是防衛的人會身受重傷吧？\n可是素材是沒有智能的，它們不能自行判斷使用者是在攻擊還是被攻擊。\n\n到這裡，我突然想起PSP武器匠人多代的對話。他們多次提過提鍊金屬的重要性，以及，金屬和有機物（骨）混合使用的重要性。\n\n![45d14d080f585657be73e849cae6d0c4.png](:/8cee0701c72e4ec29c05ae1694e5aebb)\n\n可見推斷：素材在加工屋經過高溫和各種合成，產生的武器能夠產和和防具不一樣甚至相反的化學和物理反應十分合理的。\n那麼，合理的解釋是：**加工方法不一樣**。\n這時才能清楚划分。\n\n細心的玩家會發現，越到後期的防具，基礎數值變好的同時，耐性也越極端化。\n假設說早期是雷-5 火5，後期可以變成雷-10 火15\n合成所要的合成費也相應大幅提高。\n所以加工不單會影響攻防數值，還會影響屬性強弱，\n我們大可更進一步地說：加工影響龍屬性的極性。\n\n而這更同時解釋，如單單只是拿著素材（例如黑龍的重殼）來當武器和防具來互相砍劈擋格，素材將無法產生應有的屬性效果。\n屬性這東西只有當素材數鐵匠「開光」後才有效。","url":"monster-hunter-dragon","title":"Monster Hunter 中的龍屬性到底是甚麼?","fullUrl":"article/monster-hunter-dragon","htmlContent":"<p>在MH 的世界中，龍屬性是個特別的東西。<br />\n我是認真為了代入感而去補完世界規則，而令過程不成為操作一個機器人過關的第三人稱ARPG。<br />\n我被問過一次這到底龍屬性是甚麼，所以很久以前答過一次。在這裡貼一下我的答案。</p>\n<p>龍屬性和水火雷冰不一樣的地方是，他本身是一種剋制屬性。<br />\n舉例說：</p>\n<ol>\n<li>水屬性剋火魔物，同時水魔物是耐水屬性的。</li>\n<li>但是，龍屬性剋龍魔物，耐龍的卻是牙獸類。</li>\n<li>牙獸帶的卻是物理和異常。</li>\n</ol>\n<p>所以在裝備上龍屬性就是一個一維的變量：<br />\n用這種武器打龍魔物會更有效，但受穿龍魔物防具受到攻擊時也受更大傷害。</p>\n<p>雖然現實中沒有龍，還是可以想像得到那個世界就是就是有這種物理現象。</p>\n<p>但是！隱約發現矛盾出現了，因為用龍素材造的武器因為有龍屬性，對抗龍時有特效，<br />\n而龍屬性對抗龍防具時，又有特效。<br />\n就是說如果在MH 世界中，如果獵人打架，龍屬性武器會輕易地打入龍防具中。<br />\n但為甚麼素材會懂得自我分開自己是防具還是武器呢？</p>\n<p>在遊戲中，防具和武器是清楚划分的，<br />\n但假如兩人都手執一片大龍甲來比武，那麼相撞時會有甚麼效果呢？<br />\n如果是一片、水片火那無論如何都是水的贏。<br />\n那麼如果都是龍屬性素材呢？<br />\n按上一段的邏輯，被當成是防衛的人會身受重傷吧？<br />\n可是素材是沒有智能的，它們不能自行判斷使用者是在攻擊還是被攻擊。</p>\n<p>到這裡，我突然想起PSP武器匠人多代的對話。他們多次提過提鍊金屬的重要性，以及，金屬和有機物（骨）混合使用的重要性。</p>\n<p><img src=\"/_resources/8cee0701c72e4ec29c05ae1694e5aebb.png\" /></p>\n<p>可見推斷：素材在加工屋經過高溫和各種合成，產生的武器能夠產和和防具不一樣甚至相反的化學和物理反應十分合理的。<br />\n那麼，合理的解釋是：<strong>加工方法不一樣</strong>。<br />\n這時才能清楚划分。</p>\n<p>細心的玩家會發現，越到後期的防具，基礎數值變好的同時，耐性也越極端化。<br />\n假設說早期是雷-5 火5，後期可以變成雷-10 火15<br />\n合成所要的合成費也相應大幅提高。<br />\n所以加工不單會影響攻防數值，還會影響屬性強弱，<br />\n我們大可更進一步地說：加工影響龍屬性的極性。</p>\n<p>而這更同時解釋，如單單只是拿著素材（例如黑龍的重殼）來當武器和防具來互相砍劈擋格，素材將無法產生應有的屬性效果。<br />\n屬性這東西只有當素材數鐵匠「開光」後才有效。</p>\n","meta":{}},{"published":true,"noteId":"a6156e2ebfd748aba06fe982d9a97c51","createdAt":1660534215274,"updatedAt":1673499402964,"tags":["遊戲"],"content":"# 8月的感想\n\n![3272284f41abe311be718a1494afbd2d.png](:/ca1f8ad8a2c4473fb72951a175a99552)\n\n我知道香草社在開發這隻遊戲時，幾乎把自社坑到快要消失了，本來在PSV 上延遲推出卻只能推遲到PSV 的消失，首發放了在PS4。（而如果世界線有偏移，這將會成為PSV 上最好的遊戲）\n\n在玩這遊戲之前，我以為是一隻冷門的戰甲戰略遊戲，也不知道香草社的任何故事。而我感謝這個誤解，令我可以完全空白地去玩這隻神一般的AVG。就像我去玩AIR 前甚至連AIR 是甚麼都不知道一樣。\n\n到我玩了一半（用上過場和對話快轉的方法，花了12小時，大約三十至四十完成度，如果要全語音聽取的話可能要多花一半），心想：這麼神奇的作品怎麼賣不出去！這有天理嗎！？\n\n好奇之搜尋了一下。發現Fami通和櫻井政博(SMB)、橫尾太郎（Neir)、乃至遊戲界以外（例如馬伯庸）原來已經公開地給過極其誇張，又如我所體驗一樣的溢美之詞：\n\n櫻井：「今後的遊戲史上或許無論如何也做不出，也不會再做出這樣的遊戲了。」\nFAMI通：「《十三機兵防衛圈》是一款獨一無二的作品，而且無法被模仿。」\n橫尾：「Atlus倒閉我都無所謂，《十三機兵》一定要賣爆」\n\n我尤其感謝櫻井的助攻，讓冷門的AVG 真的賣斷了。\n\n香草社就該讓世界看到了！這是精細敘事的最高境界。好遊戲就算受眾多窄，香草社也應得到它應有的名譽和生命！。\n\n這，是一隻AVG。而可以用來評判AVG 的所有標準，我覺得他都已經佔滿了\n\n1.  畫風獨特而且美麗\n2.  劇情線極其複雜、有張力、齊頭並進、而且幾乎沒bug\n3.  劇情衝突激烈，敍事和對話卻柔和得像高中\n4.  音樂能互補\n5.  擁有一個極爽快、又獨特、又能幫助還原事件的大規模戰鬥系統\n6.  分配平衡的群像劇\n7.  令人信服的感情線加上硬核的科幻干涉\n8.  每個分支線結尾留下的張力十足，根本停不下來\n9.  互動環境的表現充份得不像AVG\n10. 令人懷念又嚮往的時代背景，還有足夠還原背景動態\n\n上面任何一點能達成，我都能給整個遊戲正分了。\n而它，卻全部都做到，而且做得很好。\n\n因為這遊戲的體驗就是不停的轉接，我是一分一亳都沒法劇透。\n我決定拿出禁術：捧一踩一，為了禁術可以順利施放，就只拿我真的很愛的遊戲好了\n\n拿一些近似的參照物：\n\n我想對《流行之神》說：「你看看別人是怎麼把多設定融合記事的，你連兩個都搞不定。」\n對《命運石之門0》說：「你在十三機兵面前就像一隻Demo」\n對《彈丸論破》說：「你看起來就像一隻同人作品」\n對《428》說：「你這時間線就像幼兒園」\n對《Ever17》說：「老前輩不踩。只是請你看看今天的遊戲敍事發展到甚麼高度了。。。你有感到欣慰嗎。。。」\n\n真有這麼誇張。\n\n我玩的冒險遊戲真的不少了。\n但這個劇本在我未完成前，我也一定能把它排到前三。主要是編排和實現難度真的是太高了。\n\n這高度不像是Cyberpunk 2077 可以靠日後的技術力提高而壓低開發複雜度。\n群像戲小說本身是難以異步合作、高度上下文依賴的同步的作品。把它寫成遊戲更是困難。但只要玩到，都能想像到為甚麼它可以把Vanillaware 從PSV 拖到Switch 還能起死回生。\n\n本來我在玩完八小時後寫了一些的，但怕自己太腦熱\n現在大約可以給《十三機兵防衛圈》一個大約的評價了，暫定10分。\n\n即使你們結局爆死，你們走到這一步我也是佩服了。\n\n# 四個月後（完成遊戲後）\n\n![3132a01d896424949690c8b5e828f996.png](:/d4882a8a1c544359825e5a61b0ddb7c0)\n\n拖了很久，昨晚玩完十三機兵防衛圈了。\n\n玩完之後，簡直和這遊戲一樣，千頭萬緒卻不知能從何說起。\n\n首先，我覺得就算完全劇透也毫不影響這遊戲可玩性和懸疑感，因為它實在太多強上下相關的人物和懸念了，作為我認為是敍事的頂峰，根本多到不是一篇文章可以有嚴重影響的。\n\n一：每個人物和時間都是獨立的，這不是所謂的敍事詭計，反而，他是逼切地想你知道所有奇怪和矛盾的事。\n二：崩壞篇是真的好玩，而且最終兩戰的緊張感真的有被劇情焢托出來。\n\n總時間30小時，這個是幾乎不聽語音加過轉完全快轉的玩法。戰鬥也沒有玩strong 模式。\n\n我還是保持著它10分的評價。我也很難想像要超越這劇本要多少的精力。\n\n《13》 的懸疑中出現的可能的敘事Trick 代理出奇的多，不是一數推理小說的一個，或者一些比較局中局的高峰劇本中會套兩（甚至三）層，我是能數出11個。（〔附錄一〕。未玩不可以看，而且看了也不會因此而幫助理解裡面複雜的人物關係，但如果你不想玩，那可以看一下，讓你知道這個世界中有一個媒體，一口氣利用了多少代理。）因此它亳不掩飾地展露矛盾，展露到像是不斷出現的倒敘，而事實上，這些是不是倒敘也根本沒法用通常的中文科定義來定論它是不是倒敘。\n\n因為對於每個人物的劇情，開展的時間都是獨立的，所以有「13個人物 * 5個扇區 * 3次循環」的劇情。這不是為了欺騙讀者，而是他們是按「要素展示的邏輯層級」排次序的，他已經盡力把這個故事用最易懂的方法寫好了。\n\n而且它們（〔附錄一〕）同時出現而不矛盾，有些看起來是妥協，實際上當下也只能是這樣想。\n\n小結一個敘事方面的推坑讚美表（下面還有其他方面的）：\n\n- 比428 更平衡又更長的群像劇\n- 比ever17 更深入幾層的敍事覆蓋\n- 出奇多又集大成的敍事詭計代理（narrative trick proxies)。\n- 純潔又不扭曲的愛情\n- 前無古人後無來者的群像劇\n- 是個不用心就不能寫成的故事\n\n由於《13》的文本量以及劇情複雜程度遠超一般 AVG（就算比起8月篇提過的所有遊戲），我根本不怕劇透和機制解構會對享受它帶來很大的傷害。\n\n就算你已經玩過一次了，也不得不再玩一次。\n\n我甚至都沒有信心可以在二刷時把劇情記清楚，即使它沒有任何的隱瞞。\n\n說到科幻X群像劇，可以提一提《LIVE A LIVE》和《Chrono Trigger》，這兩部10大RPG 之二。我的看法是：優秀的點不一樣，很難比較，但單說劇本、敘事手法、倫理關係，《13》遠遠超過大前輩們。\n\n我會無條件地建議《13》給所有能看懂中文或日文的人。\n\n可是，這個推薦不在於你會享受大部分的時間（我有，而且我的主觀動能很充足，但是我也看到路人玩家要用「堅持」去支撐），而是在於，這部作品的獨特和用心，你可能沒法在其他作品中找到了。十三機兵劇本的優秀，並不在於令人驚訝的想法和某個點子上，而是在於精雕細琢，這可能可以在Disco Elysium 這種重文本和重對話的故事中找到類似的優點，但卻沒法找到非線性劇本中，在排除這個代入感的幫助下，依舊這麼好看。\n\n人物的對話水平非常的高，在我看來，它能在簡短的對話中展現人物的性格和當前的想法，雖然文本量不少，但這和流水賬的對話型AVG 還能明顯拉開差距，會能感受到日本人的表達方法的有效性，這點和我看《雙層公寓》（Netflix + FujiTV 實景戀愛綜藝）時的感覺有共通之處。\n\n其次，周邊方面\n\n-《13》的2D 人物動作很自然，而同時又很可愛。而且互動真實，動作中間幀多到覺得豪華\n- 昭和感\n- 室內外光線很美，真實感和繪畫感並存，尤其在2D的動畫和背景中，真的賞心悅目\n- 奇觀感不用誇張的畫法，直接表達故事中的場景就已經很驚艷。\n- 音樂比起我四個月前感受的還要好，而且不喧賓奪主\n\n《13》成功佔據MHW 和2077 都沒有拿下的，這個我前表（點擊左上看目錄）數十款遊戲中，第一個也是唯一一個的10分。\n\n其他遊戲和小說可以學習的點：\n\n1.  很重要：現在一些懸疑和推理小說有一個很大很大的問題：為敘詭而敘詭，敘詭亳無為敘事效用服務的合理性，隱藏關鍵信息之後強行在結尾大反轉。《13》算是把主線劇情切稀碎的典型了，但它本身作為多重narrator encapsulation 的劇本，所以為無法猜出所有的Tricks 但它不但不隐藏關鍵信息，還主動讓你去把信息記住。我覺得這是作為一本小說能能維持張力的一個頗為基本要求。\n2.  結尾收束穩定，這部遊戲對大部分玩家來說，人物關係是偏難的，甚至都不一定能掌握所有懸念的解釋，這時候，收束就變得很難，可能要來個磒石遁（馬伯庸），或者來個「都是一場夢」一類的機械降神。我覺得《13》沒有給玩家一個很平易近人的總結，一方面是為了真實感，另一方面，算是一個俗套卻合理的緩降神。（尤其是，如果你到最後如果連東雲諒子說過甚麼都忘記了的時候）\n\n但第二點也明顯是因為某些問題而出現的：\n\n劇情理解成本偏高，我連解逆轉裁判都可能要靠窮舉的，要我記這個劇本實在太難了。卡幾次全員進度的的鄉登有給出幾個小小的他對千尋的成功推理的合理性的解釋，但對於這個混亂的結構來說可以說是杯水車薪，而且一小杯水、一火車薪。但其實問題出現的原始原因就算在故事前半已經有人主動表白了，也毫不影響這個遊戲的張力，因為對於未知的探索實在太多了。單純期待玩家依賴遊戲的究明篇來整埋事件的全部其實是痛苦而吃力的，效果也不好。但實際上，真的加一個主線裡面五個扇區每個特點的「真相總結」，那總結的能是誰呢？這遊戲中還真是每人都是主角，他們也沒法同時討論，把這個劇情寫出來不是一件簡單的事，雖然鄉登在信息上掌握上算是最好的人選了，但以他的性格一定不會自己自語這麼多的。\n\n這個缺失讓《13》失去了結局的思緒上的結局高潮。\n\n其次，這個混亂的劇本結構不但削弱了推進故事的代入感（本來劇本的對白這麼好！），但削弱了我對故事中人物成長的感覺。尤其是\n「當有些主要角色還一堆分身時」和「馬上就要對抗我下一個主角時」\n\n不過這就只是瑕瑜互見。\n\n這個故事總體來說是以科幻要素佔絕對主導，雖然在今天，無論在新要素的展開還是在AVG 元素下的創新，都已經不大可能，但這個《13》的故事在「構想的大」和「展現構想的努力」下都達到了很高的水平，而且沒有一刻會讓你跌入「我在讀小說」的VN（視覺小說）感，就算拋開我覺得本來就很好玩的崩壞篇不談，《13》從來沒有忘記他作為一隻冒險遊戲的尊嚴，《13 機兵防衛圈》有記住：AVG 遊戲先是遊戲，再是冒險遊戲，再才是一隻文字冒險遊戲。這點作為沒有分支的遊戲來說，更是難能可貴，希望各個以操作劇情需求以達到各個劇情分支目的的各遊戲能學習一下，AVG 的遊戲性不在於此。\n\n最後，一些再比較不重要的系統和崩壞篇（半即時戰略遊戲）方面：\n\n存讀檔系統完美，可以在任何時候儲存、查看分句、重讀分句。也有自動儲存。\n\n戰鬥方面也沒有難為玩家，可以重開戰鬥不算失敗，也能調低難度和刷關。但機能有限制，上300米高的EX怪物也只是一個圖示，戰鬥的慘烈全靠崩壞篇的讀白和玩家的想像。\n\n究明篇（Library）有所有的關鍵劇情和關鍵字所包含的意思和隱藏意思，可能要花上數小時去一個個閱讀。\n\n但是，劇情回溯只能靠究明篇，在主篇一週目完成前是沒法使用Tree Map 來回溯的，因此看劇情時請盡量把每字每句都看到（？）。\n\n# 總結\n\nAVG 是在走下坡路嗎？很有可能，但我覺得也不會像RTS 一樣邊緣化到這個地步。有很多東西就是重文本的，無論是CRPG 如Disco Elysium 這樣要探討因不同人的生活和理想而達到的政治形態，還是友情和愛情這種更現代信任模式。\n\n而且，越是近代的AVG 壽命就越長，AVG 不像鎗車球（FPS/RAC/SPT），他有更高的可能性變長尾效應。像是《The Portopia Serial Murder Case》一樣。AVG 比起書本有更高的記述彈性，我認為是敘述詭計更為天然的溫床。\n\n對比起《428》和《Detroit: Become Human》的交替共時，或者Ever17(及其他無限輪回系列)的單週目單時序，《13》更像是惡名昭彰的《彗星來的那一夜》一樣既頻繁切換主角，也打亂了時間線。我想《13》會像《428》和《Ever17》一樣，會成為談論AVG 時沒法繞開的存在。\n\n而且還加入了輪迴和時間穿越，還能看能玩，《13》的劇本班底我誇多少次都不厭。\n\n《13》就是天下第一神捕豹子頭 - 雷豹說的 : 「I claim them all.」(欸？)\n\n![d119e29c768865f8c8357a5f08a5a563.png](:/d92790f30f7b42698e161b96c487e249)\n\nVanillaware shrugged his shoulders. \"You're welcome,\" he said.\n\n![dad1c39900b34a2d35b730afdd8c60b0.png](:/54f082b8af1d487eae85fc0299dd1ff7)\n\n### 下面是附錄\n\n![a707c8ae98566fc1226e4cff1f76ea88.png](:/48ae321318274bf7bd3701d794593d85)\n\n〔附錄一〕\n\n##### 敍事詭計代理列表\n\n- 作為舞台搭建的世界的世界邊緣\n- 身邊可能存在演員對你作出引導\n- 全員都是AI 的缸中腦證據\n- 可能的藥物作用\n- 可能的共同存在人格\n- 可印證或可持續的夢境\n- 可能的體內奈米機器人\n- 可能的時空穿越\n- 可能的已實現的瞬間移動\n- 可能的人格副本\n- 虛假的世界外的世界也是虛假\n\n![18b27c6104034c3bd5fefa0827337433.png](:/1c67dd7025e04f64b6ebb4c5fc34468b)","url":"十三機兵防衛圈","title":"十三機兵防衛圈","fullUrl":"article/十三機兵防衛圈","htmlContent":"<h1 id=\"8月的感想\">8月的感想</h1>\n<p><img src=\"/_resources/ca1f8ad8a2c4473fb72951a175a99552.png\" /></p>\n<p>我知道香草社在開發這隻遊戲時，幾乎把自社坑到快要消失了，本來在PSV 上延遲推出卻只能推遲到PSV 的消失，首發放了在PS4。（而如果世界線有偏移，這將會成為PSV 上最好的遊戲）</p>\n<p>在玩這遊戲之前，我以為是一隻冷門的戰甲戰略遊戲，也不知道香草社的任何故事。而我感謝這個誤解，令我可以完全空白地去玩這隻神一般的AVG。就像我去玩AIR 前甚至連AIR 是甚麼都不知道一樣。</p>\n<p>到我玩了一半（用上過場和對話快轉的方法，花了12小時，大約三十至四十完成度，如果要全語音聽取的話可能要多花一半），心想：這麼神奇的作品怎麼賣不出去！這有天理嗎！？</p>\n<p>好奇之搜尋了一下。發現Fami通和櫻井政博(SMB)、橫尾太郎（Neir)、乃至遊戲界以外（例如馬伯庸）原來已經公開地給過極其誇張，又如我所體驗一樣的溢美之詞：</p>\n<p>櫻井：「今後的遊戲史上或許無論如何也做不出，也不會再做出這樣的遊戲了。」<br />\nFAMI通：「《十三機兵防衛圈》是一款獨一無二的作品，而且無法被模仿。」<br />\n橫尾：「Atlus倒閉我都無所謂，《十三機兵》一定要賣爆」</p>\n<p>我尤其感謝櫻井的助攻，讓冷門的AVG 真的賣斷了。</p>\n<p>香草社就該讓世界看到了！這是精細敘事的最高境界。好遊戲就算受眾多窄，香草社也應得到它應有的名譽和生命！。</p>\n<p>這，是一隻AVG。而可以用來評判AVG 的所有標準，我覺得他都已經佔滿了</p>\n<ol>\n<li>畫風獨特而且美麗</li>\n<li>劇情線極其複雜、有張力、齊頭並進、而且幾乎沒bug</li>\n<li>劇情衝突激烈，敍事和對話卻柔和得像高中</li>\n<li>音樂能互補</li>\n<li>擁有一個極爽快、又獨特、又能幫助還原事件的大規模戰鬥系統</li>\n<li>分配平衡的群像劇</li>\n<li>令人信服的感情線加上硬核的科幻干涉</li>\n<li>每個分支線結尾留下的張力十足，根本停不下來</li>\n<li>互動環境的表現充份得不像AVG</li>\n<li>令人懷念又嚮往的時代背景，還有足夠還原背景動態</li>\n</ol>\n<p>上面任何一點能達成，我都能給整個遊戲正分了。<br />\n而它，卻全部都做到，而且做得很好。</p>\n<p>因為這遊戲的體驗就是不停的轉接，我是一分一亳都沒法劇透。<br />\n我決定拿出禁術：捧一踩一，為了禁術可以順利施放，就只拿我真的很愛的遊戲好了</p>\n<p>拿一些近似的參照物：</p>\n<p>我想對《流行之神》說：「你看看別人是怎麼把多設定融合記事的，你連兩個都搞不定。」<br />\n對《命運石之門0》說：「你在十三機兵面前就像一隻Demo」<br />\n對《彈丸論破》說：「你看起來就像一隻同人作品」<br />\n對《428》說：「你這時間線就像幼兒園」<br />\n對《Ever17》說：「老前輩不踩。只是請你看看今天的遊戲敍事發展到甚麼高度了。。。你有感到欣慰嗎。。。」</p>\n<p>真有這麼誇張。</p>\n<p>我玩的冒險遊戲真的不少了。<br />\n但這個劇本在我未完成前，我也一定能把它排到前三。主要是編排和實現難度真的是太高了。</p>\n<p>這高度不像是Cyberpunk 2077 可以靠日後的技術力提高而壓低開發複雜度。<br />\n群像戲小說本身是難以異步合作、高度上下文依賴的同步的作品。把它寫成遊戲更是困難。但只要玩到，都能想像到為甚麼它可以把Vanillaware 從PSV 拖到Switch 還能起死回生。</p>\n<p>本來我在玩完八小時後寫了一些的，但怕自己太腦熱<br />\n現在大約可以給《十三機兵防衛圈》一個大約的評價了，暫定10分。</p>\n<p>即使你們結局爆死，你們走到這一步我也是佩服了。</p>\n<h1 id=\"四個月後完成遊戲後\">四個月後（完成遊戲後）</h1>\n<p><img src=\"/_resources/d4882a8a1c544359825e5a61b0ddb7c0.png\" /></p>\n<p>拖了很久，昨晚玩完十三機兵防衛圈了。</p>\n<p>玩完之後，簡直和這遊戲一樣，千頭萬緒卻不知能從何說起。</p>\n<p>首先，我覺得就算完全劇透也毫不影響這遊戲可玩性和懸疑感，因為它實在太多強上下相關的人物和懸念了，作為我認為是敍事的頂峰，根本多到不是一篇文章可以有嚴重影響的。</p>\n<p>一：每個人物和時間都是獨立的，這不是所謂的敍事詭計，反而，他是逼切地想你知道所有奇怪和矛盾的事。<br />\n二：崩壞篇是真的好玩，而且最終兩戰的緊張感真的有被劇情焢托出來。</p>\n<p>總時間30小時，這個是幾乎不聽語音加過轉完全快轉的玩法。戰鬥也沒有玩strong 模式。</p>\n<p>我還是保持著它10分的評價。我也很難想像要超越這劇本要多少的精力。</p>\n<p>《13》 的懸疑中出現的可能的敘事Trick 代理出奇的多，不是一數推理小說的一個，或者一些比較局中局的高峰劇本中會套兩（甚至三）層，我是能數出11個。（〔附錄一〕。未玩不可以看，而且看了也不會因此而幫助理解裡面複雜的人物關係，但如果你不想玩，那可以看一下，讓你知道這個世界中有一個媒體，一口氣利用了多少代理。）因此它亳不掩飾地展露矛盾，展露到像是不斷出現的倒敘，而事實上，這些是不是倒敘也根本沒法用通常的中文科定義來定論它是不是倒敘。</p>\n<p>因為對於每個人物的劇情，開展的時間都是獨立的，所以有「13個人物 * 5個扇區 * 3次循環」的劇情。這不是為了欺騙讀者，而是他們是按「要素展示的邏輯層級」排次序的，他已經盡力把這個故事用最易懂的方法寫好了。</p>\n<p>而且它們（〔附錄一〕）同時出現而不矛盾，有些看起來是妥協，實際上當下也只能是這樣想。</p>\n<p>小結一個敘事方面的推坑讚美表（下面還有其他方面的）：</p>\n<ul>\n<li>比428 更平衡又更長的群像劇</li>\n<li>比ever17 更深入幾層的敍事覆蓋</li>\n<li>出奇多又集大成的敍事詭計代理（narrative trick proxies)。</li>\n<li>純潔又不扭曲的愛情</li>\n<li>前無古人後無來者的群像劇</li>\n<li>是個不用心就不能寫成的故事</li>\n</ul>\n<p>由於《13》的文本量以及劇情複雜程度遠超一般 AVG（就算比起8月篇提過的所有遊戲），我根本不怕劇透和機制解構會對享受它帶來很大的傷害。</p>\n<p>就算你已經玩過一次了，也不得不再玩一次。</p>\n<p>我甚至都沒有信心可以在二刷時把劇情記清楚，即使它沒有任何的隱瞞。</p>\n<p>說到科幻X群像劇，可以提一提《LIVE A LIVE》和《Chrono Trigger》，這兩部10大RPG 之二。我的看法是：優秀的點不一樣，很難比較，但單說劇本、敘事手法、倫理關係，《13》遠遠超過大前輩們。</p>\n<p>我會無條件地建議《13》給所有能看懂中文或日文的人。</p>\n<p>可是，這個推薦不在於你會享受大部分的時間（我有，而且我的主觀動能很充足，但是我也看到路人玩家要用「堅持」去支撐），而是在於，這部作品的獨特和用心，你可能沒法在其他作品中找到了。十三機兵劇本的優秀，並不在於令人驚訝的想法和某個點子上，而是在於精雕細琢，這可能可以在Disco Elysium 這種重文本和重對話的故事中找到類似的優點，但卻沒法找到非線性劇本中，在排除這個代入感的幫助下，依舊這麼好看。</p>\n<p>人物的對話水平非常的高，在我看來，它能在簡短的對話中展現人物的性格和當前的想法，雖然文本量不少，但這和流水賬的對話型AVG 還能明顯拉開差距，會能感受到日本人的表達方法的有效性，這點和我看《雙層公寓》（Netflix + FujiTV 實景戀愛綜藝）時的感覺有共通之處。</p>\n<p>其次，周邊方面</p>\n<p>-《13》的2D 人物動作很自然，而同時又很可愛。而且互動真實，動作中間幀多到覺得豪華</p>\n<ul>\n<li>昭和感</li>\n<li>室內外光線很美，真實感和繪畫感並存，尤其在2D的動畫和背景中，真的賞心悅目</li>\n<li>奇觀感不用誇張的畫法，直接表達故事中的場景就已經很驚艷。</li>\n<li>音樂比起我四個月前感受的還要好，而且不喧賓奪主</li>\n</ul>\n<p>《13》成功佔據MHW 和2077 都沒有拿下的，這個我前表（點擊左上看目錄）數十款遊戲中，第一個也是唯一一個的10分。</p>\n<p>其他遊戲和小說可以學習的點：</p>\n<ol>\n<li>很重要：現在一些懸疑和推理小說有一個很大很大的問題：為敘詭而敘詭，敘詭亳無為敘事效用服務的合理性，隱藏關鍵信息之後強行在結尾大反轉。《13》算是把主線劇情切稀碎的典型了，但它本身作為多重narrator encapsulation 的劇本，所以為無法猜出所有的Tricks 但它不但不隐藏關鍵信息，還主動讓你去把信息記住。我覺得這是作為一本小說能能維持張力的一個頗為基本要求。</li>\n<li>結尾收束穩定，這部遊戲對大部分玩家來說，人物關係是偏難的，甚至都不一定能掌握所有懸念的解釋，這時候，收束就變得很難，可能要來個磒石遁（馬伯庸），或者來個「都是一場夢」一類的機械降神。我覺得《13》沒有給玩家一個很平易近人的總結，一方面是為了真實感，另一方面，算是一個俗套卻合理的緩降神。（尤其是，如果你到最後如果連東雲諒子說過甚麼都忘記了的時候）</li>\n</ol>\n<p>但第二點也明顯是因為某些問題而出現的：</p>\n<p>劇情理解成本偏高，我連解逆轉裁判都可能要靠窮舉的，要我記這個劇本實在太難了。卡幾次全員進度的的鄉登有給出幾個小小的他對千尋的成功推理的合理性的解釋，但對於這個混亂的結構來說可以說是杯水車薪，而且一小杯水、一火車薪。但其實問題出現的原始原因就算在故事前半已經有人主動表白了，也毫不影響這個遊戲的張力，因為對於未知的探索實在太多了。單純期待玩家依賴遊戲的究明篇來整埋事件的全部其實是痛苦而吃力的，效果也不好。但實際上，真的加一個主線裡面五個扇區每個特點的「真相總結」，那總結的能是誰呢？這遊戲中還真是每人都是主角，他們也沒法同時討論，把這個劇情寫出來不是一件簡單的事，雖然鄉登在信息上掌握上算是最好的人選了，但以他的性格一定不會自己自語這麼多的。</p>\n<p>這個缺失讓《13》失去了結局的思緒上的結局高潮。</p>\n<p>其次，這個混亂的劇本結構不但削弱了推進故事的代入感（本來劇本的對白這麼好！），但削弱了我對故事中人物成長的感覺。尤其是<br />\n「當有些主要角色還一堆分身時」和「馬上就要對抗我下一個主角時」</p>\n<p>不過這就只是瑕瑜互見。</p>\n<p>這個故事總體來說是以科幻要素佔絕對主導，雖然在今天，無論在新要素的展開還是在AVG 元素下的創新，都已經不大可能，但這個《13》的故事在「構想的大」和「展現構想的努力」下都達到了很高的水平，而且沒有一刻會讓你跌入「我在讀小說」的VN（視覺小說）感，就算拋開我覺得本來就很好玩的崩壞篇不談，《13》從來沒有忘記他作為一隻冒險遊戲的尊嚴，《13 機兵防衛圈》有記住：AVG 遊戲先是遊戲，再是冒險遊戲，再才是一隻文字冒險遊戲。這點作為沒有分支的遊戲來說，更是難能可貴，希望各個以操作劇情需求以達到各個劇情分支目的的各遊戲能學習一下，AVG 的遊戲性不在於此。</p>\n<p>最後，一些再比較不重要的系統和崩壞篇（半即時戰略遊戲）方面：</p>\n<p>存讀檔系統完美，可以在任何時候儲存、查看分句、重讀分句。也有自動儲存。</p>\n<p>戰鬥方面也沒有難為玩家，可以重開戰鬥不算失敗，也能調低難度和刷關。但機能有限制，上300米高的EX怪物也只是一個圖示，戰鬥的慘烈全靠崩壞篇的讀白和玩家的想像。</p>\n<p>究明篇（Library）有所有的關鍵劇情和關鍵字所包含的意思和隱藏意思，可能要花上數小時去一個個閱讀。</p>\n<p>但是，劇情回溯只能靠究明篇，在主篇一週目完成前是沒法使用Tree Map 來回溯的，因此看劇情時請盡量把每字每句都看到（？）。</p>\n<h1 id=\"總結\">總結</h1>\n<p>AVG 是在走下坡路嗎？很有可能，但我覺得也不會像RTS 一樣邊緣化到這個地步。有很多東西就是重文本的，無論是CRPG 如Disco Elysium 這樣要探討因不同人的生活和理想而達到的政治形態，還是友情和愛情這種更現代信任模式。</p>\n<p>而且，越是近代的AVG 壽命就越長，AVG 不像鎗車球（FPS/RAC/SPT），他有更高的可能性變長尾效應。像是《The Portopia Serial Murder Case》一樣。AVG 比起書本有更高的記述彈性，我認為是敘述詭計更為天然的溫床。</p>\n<p>對比起《428》和《Detroit: Become Human》的交替共時，或者Ever17(及其他無限輪回系列)的單週目單時序，《13》更像是惡名昭彰的《彗星來的那一夜》一樣既頻繁切換主角，也打亂了時間線。我想《13》會像《428》和《Ever17》一樣，會成為談論AVG 時沒法繞開的存在。</p>\n<p>而且還加入了輪迴和時間穿越，還能看能玩，《13》的劇本班底我誇多少次都不厭。</p>\n<p>《13》就是天下第一神捕豹子頭 - 雷豹說的 : 「I claim them all.」(欸？)</p>\n<p><img src=\"/_resources/d92790f30f7b42698e161b96c487e249.png\" /></p>\n<p>Vanillaware shrugged his shoulders. \"You're welcome,\" he said.</p>\n<p><img src=\"/_resources/54f082b8af1d487eae85fc0299dd1ff7.png\" /></p>\n<h3 id=\"下面是附錄\">下面是附錄</h3>\n<p><img src=\"/_resources/48ae321318274bf7bd3701d794593d85.png\" /></p>\n<p>〔附錄一〕</p>\n<h5 id=\"敍事詭計代理列表\">敍事詭計代理列表</h5>\n<ul>\n<li>作為舞台搭建的世界的世界邊緣</li>\n<li>身邊可能存在演員對你作出引導</li>\n<li>全員都是AI 的缸中腦證據</li>\n<li>可能的藥物作用</li>\n<li>可能的共同存在人格</li>\n<li>可印證或可持續的夢境</li>\n<li>可能的體內奈米機器人</li>\n<li>可能的時空穿越</li>\n<li>可能的已實現的瞬間移動</li>\n<li>可能的人格副本</li>\n<li>虛假的世界外的世界也是虛假</li>\n</ul>\n<p><img src=\"/_resources/1c67dd7025e04f64b6ebb4c5fc34468b.png\" /></p>\n","meta":{}},{"published":true,"noteId":"aa63251b68fe4cf9a10f5ebc624e4868","createdAt":1660186437573,"updatedAt":1673980682546,"tags":[],"content":"| last_update | name | score | progress | LINK | comment | 平台  |\n| --- | --- | --- | --- | --- | --- | --- |\n| 11/08/2022 | 文字遊戲 | 9   | 己完成真結局 | [噗浪](https://www.plurk.com/p/oy7wuq) | 本來，我就以為是一隻拼字解謎#遊戲。沒想到它的關卡設計和表現力可以優異到這個地步。每個有關文字的設計都讓我拍案叫絕。<br>第五章後還不斷有新的巧思更是令我佩服得五體投地。 | PC  |\n| 11/08/2022 | Republique | -2  | 第一章 | [噗浪](https://www.plurk.com/p/oy86bg) | Cyberpunk2077 裡的Camera Hack，可以想像就是以這系統延伸出來的一個完整遊戲，但操作很不順暢，場景也令我迷惑。 | PC  |\n| 11/08/2022 | Stray | 0   | 1 小時＋youtube 破關 | [噗浪](https://www.plurk.com/p/oy2dsf) | 1\\. 有點3D 暈。<br>2\\. 解謎過程很沒意義。<br>3. 對貓的肢體動作的新鮮感是優點 | PC  |\n| 11/08/2022 | ゾンビ撃て<br>[](https://apps.apple.com/jp/app/%E3%82%BE%E3%83%B3%E3%83%93%E6%92%83%E3%81%A6/id639640880) | 4   | 四線二十多萬分的水平 | [噗浪](https://www.plurk.com/p/oxhskd) | 很純粹可以讓你觀察到你今天的部分認知力和行動力的一個手機遊戲。 | iOS （有廣告無付費） |\n| 11/08/2022 | Vampire Survivors | 6   | 開始金蛋，可以用正途或歪途擊敗死神 | [噗浪](https://www.plurk.com/p/oxo83a)<br>[噗浪](https://www.plurk.com/p/oq9r71) | 一局三十分鐘的簡單top-down roguelike，有暢快感，但作為遊戲又缺少了點甚麼 | PC  |\n| 11/08/2022 | Noita | 7   | 初通關，探索Lab 狂死中 | [噗浪](https://www.plurk.com/p/ox5yac)<br>[噗浪](https://www.plurk.com/p/ox8mbp) | 雖然它難度真的很高，高到不應是沙箱遊戲的標準。<br>RogueLITE 這個稱呼大約就是90% Rogue , Rogue 就是單純就是告訴你「死掉就重來」，無論你花了五小時、十小時、二十小時。<br>Lite 的成份很小。<br>但以它的品質，能支撐起這個設定。<br>它不會像泰拉一樣只深挖系統深度，也不像後沙箱時代一樣只有外表而沒有系統邏輯。<br>Noita 有好好平衡，從一開始就想把一個神話放進這個類型裡。 |     |\n| 11/08/2022 | Diablo Immotal | -5  |     | [噗浪](https://www.plurk.com/p/ox27h5) | 這是甚麼垃圾... 把暗黑做成免洗手遊... 網易我可以向你說髒話嗎 | iOS |\n| 11/08/2022 | Needy Girl Overdose / 主播女孩重度依賴 | 1   | 大約完成6 個結局 | [噗浪](https://www.plurk.com/p/owrcs3) | 我不知道這麼「渴望被關注」算不算病，也不知道這是不是像螢火蟲之墓一樣要讀者去反思主角，但至少我因此挺討厭女主角的。<br>如果不是為了看不同的結局，大概我就只會不停帶她出去玩和去精神病院治治吧。 | PC  |\n| 11/08/2022 | Gladiator Guild Manager | 3   | hard-core 模式三年左右（可能記錯 | [噗浪](https://www.plurk.com/p/owrabt) | 戰鬥很簡明, 也不拖拉, 培養也挺有深度的，推給想玩Rogue 卻又已被Roguelite 搞厭了的人。 | PC  |\n| 11/08/2022 | Monster Hunter World: Iceborne | 9   | 全通，高級裝備全齊 | [噗浪](https://www.plurk.com/p/owqnh7) | 是畫面最好，故事最有代入感，兼具真實感和關卡設計的，最好的一作魔物獵人。 | PC  |\n| 11/08/2022 | 籠中窺夢 / Moncage | 7   | 完成遊戲 | [噗浪](https://www.plurk.com/p/owqgfo) | 獨特又令人難忘的關卡設計<br>一點點的Optillusion<br>溫暖又正面的故事線 | PC  |\n| 11/08/2022 | Fantasy of Expedition / 奇幻東征 | 0   | 初通關 | [噗浪](https://www.plurk.com/p/owq5bt) | 殺戮尖塔+RTS<br>玩過Roguelite 的不推，記憶點實在太少，同質化嚴重 | PC  |\n| 11/08/2022 | 龍崖  | 3   | 全線已完，深淵N層，角色BOX 已全 | [噗浪](https://www.plurk.com/p/owq3bg) | DnD / 暗黑系 的人物和裝備組合集合後無比的完整, 完整到可以組出極多的體系.<br>而體系間卻又可以有某種平衡<br>缺點就是: 除了學習傷害公式和體系, 這遊戲就沒有任何可以玩的地方了, 連個攻擊按鍵都沒有, 體驗有點像塔防了, 只是主角們的目的不是守塔而是攻塔而已 | PC  |\n| 11/08/2022 | Alina of the Arena | 8   | Hard mode 破關 | [噗浪](https://www.plurk.com/p/or59aj) | 神Roguelite : 「Slay The Spire」+「Into the Breach」<br>AOTA 完全沒有其實獨立Roguelike 的簡陋感和抽象感<br>反而有在關卡設計上很好起還原角鬥士在鬥技場中的鬥智鬥勇<br>我愛死了<br>尤其是在牆邊會被擊暈這個設計, 真的有在點陣風格中以純數值表達出實感<br>場邊觀眾的呼喊和字幕也很真實, 而且很爽, 會有想為觀眾而表演暴力美學的欲望 | PC  |\n| 11/08/2022 | DAEMON X MACHINA | 4   | 到一關潛入的關卡 | [噗浪](https://www.plurk.com/p/oq76x1) | 人物和機甲都很帥氣而且很有特色<br>能用的武器很多, 操作很硬核, 或者說, 很進取, 14個按鈕和雙搖扞都要熟練的全立體戰鬥. 主要原因他像GBR 或者GVG 一樣除了雙武器和特武外, 還可以外掛兩件備用武器, 還同時在戰鬥環境中有和環境物件互動的可能.<br>算是第一隻我沒法用食指單吃ZRZL和LR的遊戲吧 | PC  |\n| 11/08/2022 | Opus Magnum | 0   | 第一章 | [噗浪](https://www.plurk.com/p/oq49bn) | 喔我不行 , 它在無聊地消費我餘量不多的基礎工作行動點<br>尤其是特化答案 ... 我知道我能找到特化答案, 但只要幻想到尋找那個答案的試驗方法就馬上想關掉了 , 看來我還是比較適合玩一點點有未知和隨機的遊戲 | PC  |\n| 11/08/2022 | While True: learn() | ？   | ？   | [噗浪](https://www.plurk.com/p/opuyy3) | 是一隻不寫邏輯的編程遊戲, 但卻是MHRD 的反面, MHRD 是寫HDL,<br>這個有一點邏輯, 但教的不是HDL , 卻是機器學習,<br>而且很直觀的以正確率和效率來作為分類器的參數, 很有感覺! 是一隻很真實而且很能讓玩家領率到軟體工程學的一些本質的遊戲 | PC  |\n| 11/08/2022 | Chronicon | 5   | 低難度通關 | [噗浪](https://www.plurk.com/p/opnlia) | Chronicon 是一隻大量致敬Diablo II 的遊戲,<br>例如:<br>有五章的劇情,<br>幫助村落、幫助戰爭、對抗天災、對抗地獄<br>如果不洗點的話, 這遊戲會幾乎沒法精通而且有大量垃圾時間<br>但它都改進了<br>還有合成配方等等, 都一堆影子<br>十分值得推薦的H&S 的典型 | PC  |\n| 11/08/2022 | ABZU | 5   | 一氣全通 | [噗浪](https://www.plurk.com/p/opc9zm) | 潛水的感受很新鮮, 而且操作簡便, 即使我用的是鍵盤也是覺得很充份<br>整個遊戲的關卡有一點點重覆性, 但場景總體來說美感十足, 可以很容易用奇觀感麻醉一下自己<br>雖然視覺是遠距離的背越式, 但因為場景挺緊的, 解迷時還是出現一點3D 暈眩 | PC  |\n| 11/08/2022 | 鬼谷八荒 | 5   | 堅持完美突破，到大約5/6層，未通關 | [噗浪](https://www.plurk.com/p/on9k5b) | 修仙類遊戲令我印象最深刻的遊戲，而且不只是文字上的強化，更是用誇張的ARPG 表現出來。<br>關於修仙者傳承和壽命的限制，突破的完美度等等多方面都有系統和描寫<br>宗門也是一個不錯的子系統。<br>喜歡修仙的值得一玩再玩。 | PC  |\n| 11/08/2022 | Loop Hero | 2   |     | [噗浪](https://www.plurk.com/p/omcq8s) | 前期已經有農感，中期目標也是農，但組合出一個農得更持久的系統這個想法挺新鮮，也很悠閒 | PC  |\n| 11/08/2022 | 仙劍群俠傳7 | ？   | ？   | [噗浪](https://www.plurk.com/p/omcq8s) | 很普通很有既視感的UE4 遊戲模板，支線主線的標誌令我有點出戲，有老作為現實妥協的感覺，劇情未知 | PC  |\n| 11/08/2022 | 零 ～濡鴉ノ巫女～ | 2   | 大約第五章 | [噗浪](https://www.plurk.com/p/omcq8s) | 劇情上和畫面上想表現女性的無助和脆弱<br>拍照打鬼有一定遊戲性，但逛地圖不爽快，沒有甚麼重刷的欲望 | PC  |\n| 11/08/2022 | The Silver Case | 3   | 第二章 | [噗浪](https://www.plurk.com/p/oj3rsf) | 很獨特的音樂, 很獨特的表現手法, 連世界觀也很獨特, 是一個微微CyberPunk 化的現代現實 , 其中犯罪執念傳染這個設定... 我覺得CyberPunk2077 內的賽博精神病有向它致敬。<br>\"神威是誰\" 和 與\"神威\"的設定不停出現事實和現實矛盾很能帶動大主線, 很引人入勝 | PC  |\n| 11/08/2022 | Cyberpunk 2077 | 9.5 | 主線支線全通 | [噗浪](https://www.plurk.com/p/odl9lq) | 2077有令人驚嘆及不可思議的場景細節和城市細節。是我玩過代入感最高的遊戲之一。<br>是絕對會通關並少有地嘗試更多的支線劇情的開放式世界遊戲。地圖的細節、真實感、美術和可探索度幾乎無出其右，只細想其工作量就會馬上被折服，甚至覺得不可思議。主線也十分細心地以各種經典的cyberpunk 延展課題（例如：永續而擴大的貧富差距、身體容器應不應交易、以大財團作為主要政體等等）作為各個主線任務中的對話骨幹，構造方式是不經意地拿來支持現在的困境的合理性，既沒有說教味也沒有明顯的「留給你思考」的表示。 | PC  |\n| 04/11/2022 | 動物森友會 |     | 不適用 |     |     | Switch |\n| 04/11/2022 | 薩爾達: 曠野之息 |     |     |     |     | Switch |\n| 04/11/2022 | 任天堂明星大亂鬥特別版 |     |     |     |     | Switch |\n| 04/11/2022 | 東方スペルバブル | 8.5 | 正常難度通關靈夢線 | [噗浪](https://www.plurk.com/p/oywcqs)<br>[Notes](https://abbychau.github.io/article/touhou-spell-bubble) | 這是新鮮的遊戲**類型**，有著完整的方塊遊戲和大部分音樂遊戲的體驗，心智消費也是倍增。 | Switch |\n| 04/11/2022 | 召喚與合成2 | 5   | 關卡世界31 |     | 很良心的抽卡手遊，不氪不肝，雖然遊戲內容不多，但有UGC 關卡，把課金手遊做成馬里奧創造真的太棒了！ | iOS / Android |\n| 04/11/2022 | 爐石戰記 \\- 英雄戰場 | 7   |     |     |     |     |\n| 04/11/2022 | 十三機兵防衛圈 | 10  |     | [噗浪](https://www.plurk.com/p/oyilm9)<br>[Note](https://abbychau.github.io/article/%E5%8D%81%E4%B8%89%E6%A9%9F%E5%85%B5%E9%98%B2%E8%A1%9B%E5%9C%88) | 櫻井：「今後的遊戲史上或許無論如何也做不出，也不會再做出這樣的遊戲了。」 | Switch / PS4 |\n| 04/11/2022 | ElementTD2 | -2  | 大約五關 | [噗浪](https://www.plurk.com/p/oqrlch) | 完全是為情懷補票的遊戲<br>把可以升級的組合分拆成無數個關卡<br>系統完善了很多, 完善到比起遊戲, 更像是關卡模擬器 | PC  |\n|     | 鬼谷八荒 |     | 小心地完美突破每一層，大約七至八次 |     |     |     |\n|     | 道無窮 |     |     |     |     |     |\n|     | Brotatos |     |     |     |     |     |\n\n## Legends\n\n- Link\n    - 有興趣的請在下面連結留言，裡面也有更詳細的comments\n- Score\n    - 區間是-10 至 +10\n        - 正數代表: 有玩的價值\n        - 負數代表: 玩完沒有給予玩家足夠獨特的遊玩體驗","url":"作品評價集合","title":"作品評價集合","fullUrl":"article/作品評價集合","htmlContent":"<table>\n<thead>\n<tr>\n<th>last_update</th>\n<th>name</th>\n<th>score</th>\n<th>progress</th>\n<th>LINK</th>\n<th>comment</th>\n<th>平台</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>11/08/2022</td>\n<td>文字遊戲</td>\n<td>9</td>\n<td>己完成真結局</td>\n<td><a title=\"https://www.plurk.com/p/oy7wuq\" href=\"https://www.plurk.com/p/oy7wuq\">噗浪</a></td>\n<td>本來，我就以為是一隻拼字解謎#遊戲。沒想到它的關卡設計和表現力可以優異到這個地步。每個有關文字的設計都讓我拍案叫絕。<br class=\"jop-noMdConv\" />第五章後還不斷有新的巧思更是令我佩服得五體投地。</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>Republique</td>\n<td>-2</td>\n<td>第一章</td>\n<td><a title=\"https://www.plurk.com/p/oy86bg\" href=\"https://www.plurk.com/p/oy86bg\">噗浪</a></td>\n<td>Cyberpunk2077 裡的Camera Hack，可以想像就是以這系統延伸出來的一個完整遊戲，但操作很不順暢，場景也令我迷惑。</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>Stray</td>\n<td>0</td>\n<td>1 小時＋youtube 破關</td>\n<td><a title=\"https://www.plurk.com/p/oy2dsf\" href=\"https://www.plurk.com/p/oy2dsf\">噗浪</a></td>\n<td>1. 有點3D 暈。<br class=\"jop-noMdConv\" />2. 解謎過程很沒意義。<br class=\"jop-noMdConv\" />3. 對貓的肢體動作的新鮮感是優點</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>ゾンビ撃て<br class=\"jop-noMdConv\" /><a title=\"https://apps.apple.com/jp/app/%E3%82%BE%E3%83%B3%E3%83%93%E6%92%83%E3%81%A6/id639640880\" href=\"https://apps.apple.com/jp/app/%E3%82%BE%E3%83%B3%E3%83%93%E6%92%83%E3%81%A6/id639640880\"></a></td>\n<td>4</td>\n<td>四線二十多萬分的水平</td>\n<td><a title=\"https://www.plurk.com/p/oxhskd\" href=\"https://www.plurk.com/p/oxhskd\">噗浪</a></td>\n<td>很純粹可以讓你觀察到你今天的部分認知力和行動力的一個手機遊戲。</td>\n<td>iOS （有廣告無付費）</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>Vampire Survivors</td>\n<td>6</td>\n<td>開始金蛋，可以用正途或歪途擊敗死神</td>\n<td><a title=\"https://www.plurk.com/p/oxo83a\" href=\"https://www.plurk.com/p/oxo83a\">噗浪</a><br class=\"jop-noMdConv\" /><a title=\"https://www.plurk.com/p/oq9r71\" href=\"https://www.plurk.com/p/oq9r71\">噗浪</a></td>\n<td>一局三十分鐘的簡單top-down roguelike，有暢快感，但作為遊戲又缺少了點甚麼</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>Noita</td>\n<td>7</td>\n<td>初通關，探索Lab 狂死中</td>\n<td><a title=\"https://www.plurk.com/p/ox5yac\" href=\"https://www.plurk.com/p/ox5yac\">噗浪</a><br class=\"jop-noMdConv\" /><a title=\"https://www.plurk.com/p/ox8mbp\" href=\"https://www.plurk.com/p/ox8mbp\">噗浪</a></td>\n<td>雖然它難度真的很高，高到不應是沙箱遊戲的標準。<br class=\"jop-noMdConv\" />RogueLITE 這個稱呼大約就是90% Rogue , Rogue 就是單純就是告訴你「死掉就重來」，無論你花了五小時、十小時、二十小時。<br class=\"jop-noMdConv\" />Lite 的成份很小。<br class=\"jop-noMdConv\" />但以它的品質，能支撐起這個設定。<br class=\"jop-noMdConv\" />它不會像泰拉一樣只深挖系統深度，也不像後沙箱時代一樣只有外表而沒有系統邏輯。<br class=\"jop-noMdConv\" />Noita 有好好平衡，從一開始就想把一個神話放進這個類型裡。</td>\n<td></td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>Diablo Immotal</td>\n<td>-5</td>\n<td></td>\n<td><a title=\"https://www.plurk.com/p/ox27h5\" href=\"https://www.plurk.com/p/ox27h5\">噗浪</a></td>\n<td>這是甚麼垃圾... 把暗黑做成免洗手遊... 網易我可以向你說髒話嗎</td>\n<td>iOS</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>Needy Girl Overdose / 主播女孩重度依賴</td>\n<td>1</td>\n<td>大約完成6 個結局</td>\n<td><a title=\"https://www.plurk.com/p/owrcs3\" href=\"https://www.plurk.com/p/owrcs3\">噗浪</a></td>\n<td>我不知道這麼「渴望被關注」算不算病，也不知道這是不是像螢火蟲之墓一樣要讀者去反思主角，但至少我因此挺討厭女主角的。<br class=\"jop-noMdConv\" />如果不是為了看不同的結局，大概我就只會不停帶她出去玩和去精神病院治治吧。</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>Gladiator Guild Manager</td>\n<td>3</td>\n<td>hard-core 模式三年左右（可能記錯</td>\n<td><a title=\"https://www.plurk.com/p/owrabt\" href=\"https://www.plurk.com/p/owrabt\">噗浪</a></td>\n<td>戰鬥很簡明, 也不拖拉, 培養也挺有深度的，推給想玩Rogue 卻又已被Roguelite 搞厭了的人。</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>Monster Hunter World: Iceborne</td>\n<td>9</td>\n<td>全通，高級裝備全齊</td>\n<td><a title=\"https://www.plurk.com/p/owqnh7\" href=\"https://www.plurk.com/p/owqnh7\">噗浪</a></td>\n<td>是畫面最好，故事最有代入感，兼具真實感和關卡設計的，最好的一作魔物獵人。</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>籠中窺夢 / Moncage</td>\n<td>7</td>\n<td>完成遊戲</td>\n<td><a title=\"https://www.plurk.com/p/owqgfo\" href=\"https://www.plurk.com/p/owqgfo\">噗浪</a></td>\n<td>獨特又令人難忘的關卡設計<br class=\"jop-noMdConv\" />一點點的Optillusion<br class=\"jop-noMdConv\" />溫暖又正面的故事線</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>Fantasy of Expedition / 奇幻東征</td>\n<td>0</td>\n<td>初通關</td>\n<td><a title=\"https://www.plurk.com/p/owq5bt\" href=\"https://www.plurk.com/p/owq5bt\">噗浪</a></td>\n<td>殺戮尖塔+RTS<br class=\"jop-noMdConv\" />玩過Roguelite 的不推，記憶點實在太少，同質化嚴重</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>龍崖</td>\n<td>3</td>\n<td>全線已完，深淵N層，角色BOX 已全</td>\n<td><a title=\"https://www.plurk.com/p/owq3bg\" href=\"https://www.plurk.com/p/owq3bg\">噗浪</a></td>\n<td>DnD / 暗黑系 的人物和裝備組合集合後無比的完整, 完整到可以組出極多的體系.<br class=\"jop-noMdConv\" />而體系間卻又可以有某種平衡<br class=\"jop-noMdConv\" />缺點就是: 除了學習傷害公式和體系, 這遊戲就沒有任何可以玩的地方了, 連個攻擊按鍵都沒有, 體驗有點像塔防了, 只是主角們的目的不是守塔而是攻塔而已</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>Alina of the Arena</td>\n<td>8</td>\n<td>Hard mode 破關</td>\n<td><a title=\"https://www.plurk.com/p/or59aj\" href=\"https://www.plurk.com/p/or59aj\">噗浪</a></td>\n<td>神Roguelite : 「Slay The Spire」+「Into the Breach」<br class=\"jop-noMdConv\" />AOTA 完全沒有其實獨立Roguelike 的簡陋感和抽象感<br class=\"jop-noMdConv\" />反而有在關卡設計上很好起還原角鬥士在鬥技場中的鬥智鬥勇<br class=\"jop-noMdConv\" />我愛死了<br class=\"jop-noMdConv\" />尤其是在牆邊會被擊暈這個設計, 真的有在點陣風格中以純數值表達出實感<br class=\"jop-noMdConv\" />場邊觀眾的呼喊和字幕也很真實, 而且很爽, 會有想為觀眾而表演暴力美學的欲望</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>DAEMON X MACHINA</td>\n<td>4</td>\n<td>到一關潛入的關卡</td>\n<td><a title=\"https://www.plurk.com/p/oq76x1\" href=\"https://www.plurk.com/p/oq76x1\">噗浪</a></td>\n<td>人物和機甲都很帥氣而且很有特色<br class=\"jop-noMdConv\" />能用的武器很多, 操作很硬核, 或者說, 很進取, 14個按鈕和雙搖扞都要熟練的全立體戰鬥. 主要原因他像GBR 或者GVG 一樣除了雙武器和特武外, 還可以外掛兩件備用武器, 還同時在戰鬥環境中有和環境物件互動的可能.<br class=\"jop-noMdConv\" />算是第一隻我沒法用食指單吃ZRZL和LR的遊戲吧</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>Opus Magnum</td>\n<td>0</td>\n<td>第一章</td>\n<td><a title=\"https://www.plurk.com/p/oq49bn\" href=\"https://www.plurk.com/p/oq49bn\">噗浪</a></td>\n<td>喔我不行 , 它在無聊地消費我餘量不多的基礎工作行動點<br class=\"jop-noMdConv\" />尤其是特化答案 ... 我知道我能找到特化答案, 但只要幻想到尋找那個答案的試驗方法就馬上想關掉了 , 看來我還是比較適合玩一點點有未知和隨機的遊戲</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>While True: learn()</td>\n<td>？</td>\n<td>？</td>\n<td><a title=\"https://www.plurk.com/p/opuyy3\" href=\"https://www.plurk.com/p/opuyy3\">噗浪</a></td>\n<td>是一隻不寫邏輯的編程遊戲, 但卻是MHRD 的反面, MHRD 是寫HDL,<br class=\"jop-noMdConv\" />這個有一點邏輯, 但教的不是HDL , 卻是機器學習,<br class=\"jop-noMdConv\" />而且很直觀的以正確率和效率來作為分類器的參數, 很有感覺! 是一隻很真實而且很能讓玩家領率到軟體工程學的一些本質的遊戲</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>Chronicon</td>\n<td>5</td>\n<td>低難度通關</td>\n<td><a title=\"https://www.plurk.com/p/opnlia\" href=\"https://www.plurk.com/p/opnlia\">噗浪</a></td>\n<td>Chronicon 是一隻大量致敬Diablo II 的遊戲,<br class=\"jop-noMdConv\" />例如:<br class=\"jop-noMdConv\" />有五章的劇情,<br class=\"jop-noMdConv\" />幫助村落、幫助戰爭、對抗天災、對抗地獄<br class=\"jop-noMdConv\" />如果不洗點的話, 這遊戲會幾乎沒法精通而且有大量垃圾時間<br class=\"jop-noMdConv\" />但它都改進了<br class=\"jop-noMdConv\" />還有合成配方等等, 都一堆影子<br class=\"jop-noMdConv\" />十分值得推薦的H&amp;S 的典型</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>ABZU</td>\n<td>5</td>\n<td>一氣全通</td>\n<td><a title=\"https://www.plurk.com/p/opc9zm\" href=\"https://www.plurk.com/p/opc9zm\">噗浪</a></td>\n<td>潛水的感受很新鮮, 而且操作簡便, 即使我用的是鍵盤也是覺得很充份<br class=\"jop-noMdConv\" />整個遊戲的關卡有一點點重覆性, 但場景總體來說美感十足, 可以很容易用奇觀感麻醉一下自己<br class=\"jop-noMdConv\" />雖然視覺是遠距離的背越式, 但因為場景挺緊的, 解迷時還是出現一點3D 暈眩</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>鬼谷八荒</td>\n<td>5</td>\n<td>堅持完美突破，到大約5/6層，未通關</td>\n<td><a title=\"https://www.plurk.com/p/on9k5b\" href=\"https://www.plurk.com/p/on9k5b\">噗浪</a></td>\n<td>修仙類遊戲令我印象最深刻的遊戲，而且不只是文字上的強化，更是用誇張的ARPG 表現出來。<br class=\"jop-noMdConv\" />關於修仙者傳承和壽命的限制，突破的完美度等等多方面都有系統和描寫<br class=\"jop-noMdConv\" />宗門也是一個不錯的子系統。<br class=\"jop-noMdConv\" />喜歡修仙的值得一玩再玩。</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>Loop Hero</td>\n<td>2</td>\n<td></td>\n<td><a title=\"https://www.plurk.com/p/omcq8s\" href=\"https://www.plurk.com/p/omcq8s\">噗浪</a></td>\n<td>前期已經有農感，中期目標也是農，但組合出一個農得更持久的系統這個想法挺新鮮，也很悠閒</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>仙劍群俠傳7</td>\n<td>？</td>\n<td>？</td>\n<td><a title=\"https://www.plurk.com/p/omcq8s\" href=\"https://www.plurk.com/p/omcq8s\">噗浪</a></td>\n<td>很普通很有既視感的UE4 遊戲模板，支線主線的標誌令我有點出戲，有老作為現實妥協的感覺，劇情未知</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>零 ～濡鴉ノ巫女～</td>\n<td>2</td>\n<td>大約第五章</td>\n<td><a title=\"https://www.plurk.com/p/omcq8s\" href=\"https://www.plurk.com/p/omcq8s\">噗浪</a></td>\n<td>劇情上和畫面上想表現女性的無助和脆弱<br class=\"jop-noMdConv\" />拍照打鬼有一定遊戲性，但逛地圖不爽快，沒有甚麼重刷的欲望</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>The Silver Case</td>\n<td>3</td>\n<td>第二章</td>\n<td><a title=\"https://www.plurk.com/p/oj3rsf\" href=\"https://www.plurk.com/p/oj3rsf\">噗浪</a></td>\n<td>很獨特的音樂, 很獨特的表現手法, 連世界觀也很獨特, 是一個微微CyberPunk 化的現代現實 , 其中犯罪執念傳染這個設定... 我覺得CyberPunk2077 內的賽博精神病有向它致敬。<br class=\"jop-noMdConv\" />\"神威是誰\" 和 與\"神威\"的設定不停出現事實和現實矛盾很能帶動大主線, 很引人入勝</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>11/08/2022</td>\n<td>Cyberpunk 2077</td>\n<td>9.5</td>\n<td>主線支線全通</td>\n<td><a title=\"https://www.plurk.com/p/odl9lq\" href=\"https://www.plurk.com/p/odl9lq\">噗浪</a></td>\n<td>2077有令人驚嘆及不可思議的場景細節和城市細節。是我玩過代入感最高的遊戲之一。<br class=\"jop-noMdConv\" />是絕對會通關並少有地嘗試更多的支線劇情的開放式世界遊戲。地圖的細節、真實感、美術和可探索度幾乎無出其右，只細想其工作量就會馬上被折服，甚至覺得不可思議。主線也十分細心地以各種經典的cyberpunk 延展課題（例如：永續而擴大的貧富差距、身體容器應不應交易、以大財團作為主要政體等等）作為各個主線任務中的對話骨幹，構造方式是不經意地拿來支持現在的困境的合理性，既沒有說教味也沒有明顯的「留給你思考」的表示。</td>\n<td>PC</td>\n</tr>\n<tr>\n<td>04/11/2022</td>\n<td>動物森友會</td>\n<td></td>\n<td>不適用</td>\n<td></td>\n<td></td>\n<td>Switch</td>\n</tr>\n<tr>\n<td>04/11/2022</td>\n<td>薩爾達: 曠野之息</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>Switch</td>\n</tr>\n<tr>\n<td>04/11/2022</td>\n<td>任天堂明星大亂鬥特別版</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>Switch</td>\n</tr>\n<tr>\n<td>04/11/2022</td>\n<td>東方スペルバブル</td>\n<td>8.5</td>\n<td>正常難度通關靈夢線</td>\n<td><a title=\"https://www.plurk.com/p/oywcqs\" href=\"https://www.plurk.com/p/oywcqs\">噗浪</a><br class=\"jop-noMdConv\" /><a title=\"https://abbychau.github.io/article/touhou-spell-bubble\" href=\"https://abbychau.github.io/article/touhou-spell-bubble\">Notes</a></td>\n<td>這是新鮮的遊戲<strong>類型</strong>，有著完整的方塊遊戲和大部分音樂遊戲的體驗，心智消費也是倍增。</td>\n<td>Switch</td>\n</tr>\n<tr>\n<td>04/11/2022</td>\n<td>召喚與合成2</td>\n<td>5</td>\n<td>關卡世界31</td>\n<td></td>\n<td>很良心的抽卡手遊，不氪不肝，雖然遊戲內容不多，但有UGC 關卡，把課金手遊做成馬里奧創造真的太棒了！</td>\n<td>iOS / Android</td>\n</tr>\n<tr>\n<td>04/11/2022</td>\n<td>爐石戰記 - 英雄戰場</td>\n<td>7</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>04/11/2022</td>\n<td>十三機兵防衛圈</td>\n<td>10</td>\n<td></td>\n<td><a title=\"https://www.plurk.com/p/oyilm9\" href=\"https://www.plurk.com/p/oyilm9\">噗浪</a><br class=\"jop-noMdConv\" /><a title=\"https://abbychau.github.io/article/%E5%8D%81%E4%B8%89%E6%A9%9F%E5%85%B5%E9%98%B2%E8%A1%9B%E5%9C%88\" href=\"https://abbychau.github.io/article/%E5%8D%81%E4%B8%89%E6%A9%9F%E5%85%B5%E9%98%B2%E8%A1%9B%E5%9C%88\">Note</a></td>\n<td>櫻井：「今後的遊戲史上或許無論如何也做不出，也不會再做出這樣的遊戲了。」</td>\n<td>Switch / PS4</td>\n</tr>\n<tr>\n<td>04/11/2022</td>\n<td>ElementTD2</td>\n<td>-2</td>\n<td>大約五關</td>\n<td><a title=\"https://www.plurk.com/p/oqrlch\" href=\"https://www.plurk.com/p/oqrlch\">噗浪</a></td>\n<td>完全是為情懷補票的遊戲<br class=\"jop-noMdConv\" />把可以升級的組合分拆成無數個關卡<br class=\"jop-noMdConv\" />系統完善了很多, 完善到比起遊戲, 更像是關卡模擬器</td>\n<td>PC</td>\n</tr>\n<tr>\n<td></td>\n<td>鬼谷八荒</td>\n<td></td>\n<td>小心地完美突破每一層，大約七至八次</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>道無窮</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>Brotatos</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"legends\">Legends</h2>\n<ul>\n<li>Link\n<ul>\n<li>有興趣的請在下面連結留言，裡面也有更詳細的comments</li>\n</ul>\n</li>\n<li>Score\n<ul>\n<li>區間是-10 至 +10\n<ul>\n<li>正數代表: 有玩的價值</li>\n<li>負數代表: 玩完沒有給予玩家足夠獨特的遊玩體驗</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","meta":{}},{"published":true,"noteId":"3e7a8ffd78ba452b973dcdb019ed31a0","createdAt":1582570568000,"updatedAt":1660215692778,"tags":["CS"],"content":"你每天不可或缺的Internet裡有個關鍵的小魔法，這個魔法就在TCP通訊協定這個internet的基礎協定裡。\n\nTCP是一種*可靠*的資料傳輸方法。我說可靠是指如果用TCP在網路上傳一個訊息，訊息一定會到，絕不會亂掉或壞掉。\n\nTCP的用途很多，比如抓取網頁資料或傳電子郵件都是。由於TCP這麼可靠，連那些挪用錢的東非人電郵(譯註：指有陣子常見到的騙人信)都能完整無缺的到達，真是好笑。\n\n相對的有另一種叫IP的*不可靠*資料傳輸方法。IP不保證資料會傳到，就算到了資料也可能會亂掉。如果你用IP傳送一堆訊息，很可能只有一半的訊息到達，而且其中還有一些到達的順序和原先傳送時的順序不同，另外可能有幾個訊息的內容會變掉，可能變成可愛的猩猩寶貝照片，更可能變成一堆看不懂的垃圾，看起來就像臺灣垃圾信的標題一樣。\n\n這裡就是魔法所在：TCP是架在IP上面的。換句話說，TCP不得不靠*一個不可靠的工具*想辦法可靠地傳送資料。\n\n為了說明這的確是個魔法，想想下面這個本質上相同(雖然有點滑稽)，來自真實世界的情節。\n\n想像你有個方法把演員由百老匯送到好萊塢，基本上就是讓人坐上車後開車橫越國家送過去。有些車會出車禍讓可憐的演員掛掉。有時候演員在路上喝醉了就去剃光頭或刺納粹刺青，結果變得太醜而不能在好萊塢工作。另外由於走的路線不同，演員到達的順序常會跟出發的順序不一樣。現在想像有個叫好萊塢快遞的新服務，可以把演員送到好萊塢，並且保證演員一定會(a)到達，並保證(b)順序不變而且(c)狀態完美地到達。神奇之處在於好萊塢快遞除了原本的車子以外，並沒有新的運送方法。好萊塢快遞的作法是在每個演員抵達時檢查演員的狀況，如果狀況不佳就打電話請公司把該演員的雙胞胎送來。如果演員到達的順序不對，好萊塢快遞會照正確順序重新排好。如果51區有架大幽浮在內華達的高速公路上墜毀阻斷了交通，預定走這條路線的演員就會改走亞歷桑那州，好萊塢快遞甚至不會把事情告訴加州的導演。導演只會覺得演員來得比平常慢，他們甚至不會*聽到*幽浮失事的消息。\n\nTCP的魔法大致上就是這樣。這種作法常被電腦科學家稱為*抽象*：把複雜許多的東西隱藏起來的一種簡化動作。結果很多電腦程式的設計都是在建立抽象機制。字串程式庫是什麼？它是一種偽裝，假裝電腦能像處理數字一樣輕易的處理字串。檔案系統又是什麼？也是一種偽裝，假裝硬碟並不是一堆不停旋轉，可以儲存位元的磁性碟片，而是一個有著層層目錄的階層式系統，可以存放一個個由一或多個位元組字串構成的檔案。\n\n把話題拉回TCP。稍早為了讓事情單純一點，我撒了一個小謊，而且現在有些人可能會因為這個謊氣得頭上冒煙。我說過TCP保證你的訊息會到達，其實並不會。如果你養的蛇把連接電腦的網路線咬斷了，就*沒有任何*IP封包可以通過，這時候TCP當然也不可能讓你的訊息抵達。如果你惹毛了公司的系統管理員，他們為了報復就把你接到已經超過負荷的集線器，因此只有部份的IP封包能通過，這時候TCP是會動，不過一切都會變得很慢。\n\n這就是我稱之為*抽象機制有漏洞*的狀況。TCP試圖提供一個完整的抽象機制，想隱藏底下不可靠的網路，不過有時候網路會滲漏越過抽象機制，這時就會覺得抽象其實並不太能真的提供保護。這只是我所謂「抽象滲漏法則」的一個例子而已：\n\n**所有重大的抽象機制在某種程式上都是有漏洞的。**\n\n抽象會失效。有時候輕微有時候很嚴重，反正就是有漏洞。事情會因而出錯，而且當你有抽象機制時到處都可能會發生。下面有一些例子。\n\n- 像掃描一個大的二維陣列這麼簡單的動作，是由水平方向或垂直方向掃描都會嚴重影響效率，影響的大小依「木紋」(譯註：二維陣列排列的方式)的方向而定，某個方向可能比另一個方向多產生許多的分頁失敗，而分頁失敗是很慢的。雖然寫組合語言的程式師應該可以假設自己擁有可連續定址的記憶體空間，不過虛擬記憶體表示這種假設只是種抽象機制而已。當出現分頁失敗時或是某些記憶體讀取時漏洞就會出現，處理時間會比其他記憶體慢幾毫微秒。\n- SQL語言希望把資料庫查詢的程序抽象化，讓你只要定義想要的東西，查詢動作的細節就交由資料庫去處理。不過在某些狀況下，有些SQL查詢比邏輯上相等的查詢慢上幾千倍。這有個很有名的例子，在某個SQL伺服器用\"where a=b and b=c and a=c\"來查詢，會比用\"where a=b and b=c\"快上許多，可是查詢的結果其實是一樣的。照道理只要指定規格，並不需要在意程序。可是有時候抽象機制會失效並導致很差的效率，於是你就得跳出來用查詢規劃分析器找出問題，然後想辦法加快查詢。.\n- NFS或SMB之類的網路程式庫，能讓你「像」處理本機檔案一樣地處理遠端機器的檔案。有時候連線速度會變得很慢或是斷線，這時遠端檔案就不再像是在本機上了，而身為程式師的你必須加程式碼來處理這種狀況。「遠端檔案和本地檔案一樣」的抽象機制[出現漏洞](http://www.joelonsoftware.com/articles/fog0000000041.html)了。這裡有個Unix系統管理員的具體例子。如果你把使用者的home目錄放在用NFS掛入的磁碟上(一種抽象機制)，而使用者建了一個.forward檔案把他們的電郵全部轉寄到其他地方(另一種抽象機制)，如果新郵件進來時NFS伺服器停掉了，由於找不到.forward檔訊息並不會被轉寄出去。這個抽象機制的漏洞就真的會把一些訊息丟掉。\n- C++字串類別應該能讓你假裝字串是個第一級(first-class)資料。它們嘗試把[字串很難處理](http://www.joelonsoftware.com/articles/fog0000000319.html)這個事實抽象掉，讓它使用上像整數一樣容易。幾乎所有C++字串類別都會多載+運算子，才能把字串連接寫成**s + \"bar\"**。不過你知道嗎？不過怎麼努力，世上還是沒有C++字串類別能讓你寫成**\"foo\" + \"bar\"**，因為C++裡的字串常數一定是char*，絕對不會變成字串。這個抽象機制呈現一個程式語言本身不給補的漏洞。(有趣的是，C++隨時間演進的歷史，可以描述成嘗試用修補字串抽象機制漏洞的過程。他們為什麼不直接在語言本身加個原生的字串類別？這實在讓我搞不懂。)\n- 再來就是下雨天時開車沒辦法開得和平常一樣快，雖然車上有擋風玻璃雨刷有頭燈有車頂還有暖氣，這些裝備應該是讓你可以忽略下雨這個事實(他們把天氣抽象化了)，不過看吧，你還是得擔心天雨路滑，有時候雨甚至會大到你看不遠，所以在只好慢慢地開，因為基於抽象滲漏法則，天氣永遠不能完全被抽象化。\n\n抽象滲漏法則會造成問題的原因之一，是因為它說明了抽象機制並不真能照原構想簡化我們的生活。當我想訓練某人成為C++程式師時，最好能完全不教char*和指標運算，直接去學STL字串。問題是總有一天他們會寫出**\"foo\" + \"bar\"**這樣的程式然後看到怪事出現，於是我就得停下來教他們有關char*的事情。他們也可能會試著呼叫某個需要OUT LPTSTR參數的Windows API函數，於是又得把char*、指標、Unicode、wchar_t以及TCHAR含入檔搞懂，才會知道如何呼叫。而這些全都是漏洞。\n\n在教COM程式設計時，最好只要教學生如何使用Visual Studio的精靈和各個程式產生功能。不過萬一出了任何問題，他們根本不會知道怎麼回事，也不知道如何除錯或回復。我還是得教他們IUnknown和CLSID還有ProgIDS以及。哦，饒了我吧！\n\n在教ASP.NET程式設計時，最好只要教學生可以在元件上雙擊，然後就能撰寫使用者點擊該元件時在伺服器執行的程式。不過處理超連結(**&lt;a&gt;**)點擊事件的HTML程式，和某個按鈕被按時的處理程式是不一樣的，而ASP.NET實際上是把這之間的差異抽象化了。問題來了，ASP.NET的設計者必須把HTML無法由超連結傳送表格的事實隱藏起來。他們的做法是在超連結的onclick產理加上幾行JavaScript程式。不過這種抽象機制也有漏洞，如果使用者關閉JavaScript功能，ASP.NET的應用程式就不能正常的運作了，萬一程式師又不瞭解ASP.NET抽象掉什麼東西，根本不可能知道出了什麼問題。\n\n抽象滲漏法則表示，當某人發明一套神奇的新程式產生工具，可以大幅提升效率等等，就會聽到很多人說：「應該先學會如何手動進行，然後才用這個神奇的工具來節省時間。」 程式產生工具假裝抽象掉某些東西，和其他所有抽象機制一樣都有漏洞，而唯一能適當處理漏洞的方法，就是弄懂該抽象原理以及所隱藏的東西。所以抽象機制雖然替我們節省了工作的時間，不過學習的時間是省不掉的。\n\n而這一切都似非而是地表示，即使我們擁有愈來愈高階的程式設計工具，抽象化也做得愈來愈好，要成為一個純熟的程式師卻是愈來愈難了。\n\n我第一次去微軟實習時，寫了一個在麥金塔執行的字串程式庫。那是一個很典型的任務：寫一個自己的**strcat**函數傳回指向新字串結尾的指標。只要寫幾行C就夠了。我做的每件事都寫在K&R裡面(一本講C程式語言的薄書)。\n\n今天為了要做CityDesk，我必須會Visual Basic、COM、ATL、C++、InnoSetup、Internet Explorer內部機制、正規表示式、DOM、HTML、CSS以及XML。一大堆比古老的K&R更高階的工具，可是我還是得會K&R講的東西，否則我就完了。\n\n我們十年前可能想像過，現在會有某些全新的程式設計典範讓程式設計更容易。事實上這些年間所建立的抽象機制，*的確*讓我們能處理更高複雜度的軟體開發(如GUI程式設計和網路程式設計)，這是十或十五年前無法處理的。這些偉大的工具(比如OO型式的程式語言)雖然能讓我們用飛快的速度完成許多工作，不過總會有一天我們得去追查因抽象滲漏而產生的問題，到時候就得查上兩星期了。另外雖然你得雇一個以寫VB程式為主的程式師，不過單純的VB程式師是不夠的，因為當VB的抽象機制滲漏時他們就完全卡住了。\n\n抽象滲漏法則正在拖垮我們。\n\nhttps://www.joelonsoftware.com/2002/11/11/the-law-of-leaky-abstractions/\n\nhttps://www.csie.ntu.edu.tw/~p92005/Joel/LeakyAbstractions.html","url":"抽象滲漏法則","title":"抽象滲漏法則","fullUrl":"article/抽象滲漏法則","htmlContent":"<p>你每天不可或缺的Internet裡有個關鍵的小魔法，這個魔法就在TCP通訊協定這個internet的基礎協定裡。</p>\n<p>TCP是一種<em>可靠</em>的資料傳輸方法。我說可靠是指如果用TCP在網路上傳一個訊息，訊息一定會到，絕不會亂掉或壞掉。</p>\n<p>TCP的用途很多，比如抓取網頁資料或傳電子郵件都是。由於TCP這麼可靠，連那些挪用錢的東非人電郵(譯註：指有陣子常見到的騙人信)都能完整無缺的到達，真是好笑。</p>\n<p>相對的有另一種叫IP的<em>不可靠</em>資料傳輸方法。IP不保證資料會傳到，就算到了資料也可能會亂掉。如果你用IP傳送一堆訊息，很可能只有一半的訊息到達，而且其中還有一些到達的順序和原先傳送時的順序不同，另外可能有幾個訊息的內容會變掉，可能變成可愛的猩猩寶貝照片，更可能變成一堆看不懂的垃圾，看起來就像臺灣垃圾信的標題一樣。</p>\n<p>這裡就是魔法所在：TCP是架在IP上面的。換句話說，TCP不得不靠<em>一個不可靠的工具</em>想辦法可靠地傳送資料。</p>\n<p>為了說明這的確是個魔法，想想下面這個本質上相同(雖然有點滑稽)，來自真實世界的情節。</p>\n<p>想像你有個方法把演員由百老匯送到好萊塢，基本上就是讓人坐上車後開車橫越國家送過去。有些車會出車禍讓可憐的演員掛掉。有時候演員在路上喝醉了就去剃光頭或刺納粹刺青，結果變得太醜而不能在好萊塢工作。另外由於走的路線不同，演員到達的順序常會跟出發的順序不一樣。現在想像有個叫好萊塢快遞的新服務，可以把演員送到好萊塢，並且保證演員一定會(a)到達，並保證(b)順序不變而且(c)狀態完美地到達。神奇之處在於好萊塢快遞除了原本的車子以外，並沒有新的運送方法。好萊塢快遞的作法是在每個演員抵達時檢查演員的狀況，如果狀況不佳就打電話請公司把該演員的雙胞胎送來。如果演員到達的順序不對，好萊塢快遞會照正確順序重新排好。如果51區有架大幽浮在內華達的高速公路上墜毀阻斷了交通，預定走這條路線的演員就會改走亞歷桑那州，好萊塢快遞甚至不會把事情告訴加州的導演。導演只會覺得演員來得比平常慢，他們甚至不會<em>聽到</em>幽浮失事的消息。</p>\n<p>TCP的魔法大致上就是這樣。這種作法常被電腦科學家稱為<em>抽象</em>：把複雜許多的東西隱藏起來的一種簡化動作。結果很多電腦程式的設計都是在建立抽象機制。字串程式庫是什麼？它是一種偽裝，假裝電腦能像處理數字一樣輕易的處理字串。檔案系統又是什麼？也是一種偽裝，假裝硬碟並不是一堆不停旋轉，可以儲存位元的磁性碟片，而是一個有著層層目錄的階層式系統，可以存放一個個由一或多個位元組字串構成的檔案。</p>\n<p>把話題拉回TCP。稍早為了讓事情單純一點，我撒了一個小謊，而且現在有些人可能會因為這個謊氣得頭上冒煙。我說過TCP保證你的訊息會到達，其實並不會。如果你養的蛇把連接電腦的網路線咬斷了，就<em>沒有任何</em>IP封包可以通過，這時候TCP當然也不可能讓你的訊息抵達。如果你惹毛了公司的系統管理員，他們為了報復就把你接到已經超過負荷的集線器，因此只有部份的IP封包能通過，這時候TCP是會動，不過一切都會變得很慢。</p>\n<p>這就是我稱之為<em>抽象機制有漏洞</em>的狀況。TCP試圖提供一個完整的抽象機制，想隱藏底下不可靠的網路，不過有時候網路會滲漏越過抽象機制，這時就會覺得抽象其實並不太能真的提供保護。這只是我所謂「抽象滲漏法則」的一個例子而已：</p>\n<p><strong>所有重大的抽象機制在某種程式上都是有漏洞的。</strong></p>\n<p>抽象會失效。有時候輕微有時候很嚴重，反正就是有漏洞。事情會因而出錯，而且當你有抽象機制時到處都可能會發生。下面有一些例子。</p>\n<ul>\n<li>像掃描一個大的二維陣列這麼簡單的動作，是由水平方向或垂直方向掃描都會嚴重影響效率，影響的大小依「木紋」(譯註：二維陣列排列的方式)的方向而定，某個方向可能比另一個方向多產生許多的分頁失敗，而分頁失敗是很慢的。雖然寫組合語言的程式師應該可以假設自己擁有可連續定址的記憶體空間，不過虛擬記憶體表示這種假設只是種抽象機制而已。當出現分頁失敗時或是某些記憶體讀取時漏洞就會出現，處理時間會比其他記憶體慢幾毫微秒。</li>\n<li>SQL語言希望把資料庫查詢的程序抽象化，讓你只要定義想要的東西，查詢動作的細節就交由資料庫去處理。不過在某些狀況下，有些SQL查詢比邏輯上相等的查詢慢上幾千倍。這有個很有名的例子，在某個SQL伺服器用\"where a=b and b=c and a=c\"來查詢，會比用\"where a=b and b=c\"快上許多，可是查詢的結果其實是一樣的。照道理只要指定規格，並不需要在意程序。可是有時候抽象機制會失效並導致很差的效率，於是你就得跳出來用查詢規劃分析器找出問題，然後想辦法加快查詢。.</li>\n<li>NFS或SMB之類的網路程式庫，能讓你「像」處理本機檔案一樣地處理遠端機器的檔案。有時候連線速度會變得很慢或是斷線，這時遠端檔案就不再像是在本機上了，而身為程式師的你必須加程式碼來處理這種狀況。「遠端檔案和本地檔案一樣」的抽象機制<a title=\"http://www.joelonsoftware.com/articles/fog0000000041.html\" href=\"http://www.joelonsoftware.com/articles/fog0000000041.html\">出現漏洞</a>了。這裡有個Unix系統管理員的具體例子。如果你把使用者的home目錄放在用NFS掛入的磁碟上(一種抽象機制)，而使用者建了一個.forward檔案把他們的電郵全部轉寄到其他地方(另一種抽象機制)，如果新郵件進來時NFS伺服器停掉了，由於找不到.forward檔訊息並不會被轉寄出去。這個抽象機制的漏洞就真的會把一些訊息丟掉。</li>\n<li>C++字串類別應該能讓你假裝字串是個第一級(first-class)資料。它們嘗試把<a title=\"http://www.joelonsoftware.com/articles/fog0000000319.html\" href=\"http://www.joelonsoftware.com/articles/fog0000000319.html\">字串很難處理</a>這個事實抽象掉，讓它使用上像整數一樣容易。幾乎所有C++字串類別都會多載+運算子，才能把字串連接寫成<strong>s + \"bar\"</strong>。不過你知道嗎？不過怎麼努力，世上還是沒有C++字串類別能讓你寫成**\"foo\" + \"bar\"**，因為C++裡的字串常數一定是char*，絕對不會變成字串。這個抽象機制呈現一個程式語言本身不給補的漏洞。(有趣的是，C++隨時間演進的歷史，可以描述成嘗試用修補字串抽象機制漏洞的過程。他們為什麼不直接在語言本身加個原生的字串類別？這實在讓我搞不懂。)</li>\n<li>再來就是下雨天時開車沒辦法開得和平常一樣快，雖然車上有擋風玻璃雨刷有頭燈有車頂還有暖氣，這些裝備應該是讓你可以忽略下雨這個事實(他們把天氣抽象化了)，不過看吧，你還是得擔心天雨路滑，有時候雨甚至會大到你看不遠，所以在只好慢慢地開，因為基於抽象滲漏法則，天氣永遠不能完全被抽象化。</li>\n</ul>\n<p>抽象滲漏法則會造成問題的原因之一，是因為它說明了抽象機制並不真能照原構想簡化我們的生活。當我想訓練某人成為C++程式師時，最好能完全不教char<em>和指標運算，直接去學STL字串。問題是總有一天他們會寫出**\"foo\" + \"bar\"**這樣的程式然後看到怪事出現，於是我就得停下來教他們有關char</em>的事情。他們也可能會試著呼叫某個需要OUT LPTSTR參數的Windows API函數，於是又得把char*、指標、Unicode、wchar_t以及TCHAR含入檔搞懂，才會知道如何呼叫。而這些全都是漏洞。</p>\n<p>在教COM程式設計時，最好只要教學生如何使用Visual Studio的精靈和各個程式產生功能。不過萬一出了任何問題，他們根本不會知道怎麼回事，也不知道如何除錯或回復。我還是得教他們IUnknown和CLSID還有ProgIDS以及。哦，饒了我吧！</p>\n<p>在教ASP.NET程式設計時，最好只要教學生可以在元件上雙擊，然後就能撰寫使用者點擊該元件時在伺服器執行的程式。不過處理超連結(<strong>&lt;a&gt;</strong>)點擊事件的HTML程式，和某個按鈕被按時的處理程式是不一樣的，而ASP.NET實際上是把這之間的差異抽象化了。問題來了，ASP.NET的設計者必須把HTML無法由超連結傳送表格的事實隱藏起來。他們的做法是在超連結的onclick產理加上幾行JavaScript程式。不過這種抽象機制也有漏洞，如果使用者關閉JavaScript功能，ASP.NET的應用程式就不能正常的運作了，萬一程式師又不瞭解ASP.NET抽象掉什麼東西，根本不可能知道出了什麼問題。</p>\n<p>抽象滲漏法則表示，當某人發明一套神奇的新程式產生工具，可以大幅提升效率等等，就會聽到很多人說：「應該先學會如何手動進行，然後才用這個神奇的工具來節省時間。」 程式產生工具假裝抽象掉某些東西，和其他所有抽象機制一樣都有漏洞，而唯一能適當處理漏洞的方法，就是弄懂該抽象原理以及所隱藏的東西。所以抽象機制雖然替我們節省了工作的時間，不過學習的時間是省不掉的。</p>\n<p>而這一切都似非而是地表示，即使我們擁有愈來愈高階的程式設計工具，抽象化也做得愈來愈好，要成為一個純熟的程式師卻是愈來愈難了。</p>\n<p>我第一次去微軟實習時，寫了一個在麥金塔執行的字串程式庫。那是一個很典型的任務：寫一個自己的<strong>strcat</strong>函數傳回指向新字串結尾的指標。只要寫幾行C就夠了。我做的每件事都寫在K&amp;R裡面(一本講C程式語言的薄書)。</p>\n<p>今天為了要做CityDesk，我必須會Visual Basic、COM、ATL、C++、InnoSetup、Internet Explorer內部機制、正規表示式、DOM、HTML、CSS以及XML。一大堆比古老的K&amp;R更高階的工具，可是我還是得會K&amp;R講的東西，否則我就完了。</p>\n<p>我們十年前可能想像過，現在會有某些全新的程式設計典範讓程式設計更容易。事實上這些年間所建立的抽象機制，<em>的確</em>讓我們能處理更高複雜度的軟體開發(如GUI程式設計和網路程式設計)，這是十或十五年前無法處理的。這些偉大的工具(比如OO型式的程式語言)雖然能讓我們用飛快的速度完成許多工作，不過總會有一天我們得去追查因抽象滲漏而產生的問題，到時候就得查上兩星期了。另外雖然你得雇一個以寫VB程式為主的程式師，不過單純的VB程式師是不夠的，因為當VB的抽象機制滲漏時他們就完全卡住了。</p>\n<p>抽象滲漏法則正在拖垮我們。</p>\n<p><a title=\"https://www.joelonsoftware.com/2002/11/11/the-law-of-leaky-abstractions/\" href=\"https://www.joelonsoftware.com/2002/11/11/the-law-of-leaky-abstractions/\">https://www.joelonsoftware.com/2002/11/11/the-law-of-leaky-abstractions/</a></p>\n<p><a title=\"https://www.csie.ntu.edu.tw/~p92005/Joel/LeakyAbstractions.html\" href=\"https://www.csie.ntu.edu.tw/~p92005/Joel/LeakyAbstractions.html\">https://www.csie.ntu.edu.tw/~p92005/Joel/LeakyAbstractions.html</a></p>\n","meta":{}},{"published":true,"noteId":"0106e90d30cb416d967ce580372f215a","createdAt":1582570556000,"updatedAt":1660066142015,"tags":["小說"],"content":"——理察·康奈爾\n\n「右邊那裡就是舊海圖上的所謂沉舟島，」惠特尼說，「海員對那個地方有著莫名其妙的恐懼。迷信……」\n\n「看不見,」雷恩斯福德說。他試圖透過籠罩著遊艇的潮濕而悶熱的夜幕張望。\n\n「再過幾天到了巴西,天空就會晴朗多了，」惠特尼保證說，「我們應當在亞馬孫河上游痛痛快快地打打獵。打獵是一種好運動。」\n\n「是世界上最好的運動，」雷恩斯福德表示同意。\n\n後來，他的夥伴下去睡覺了，雷恩斯福德留在甲板上再抽一袋煙。正吸菸時，一種意料不到的聲音使他吃了一驚，接連又是兩聲，黑夜中有人開了三槍。\n\n他朝槍響的方向極目眺望，但象是隔著一張毯子要透視過去似的。雷恩斯福德跳上船欄，以便站得更高些，菸斗撞著繩索，從嘴邊掉了下去。他急忙傾身抓菸斗，身體一下子失去了平衡，跌落到像熱血般溫暖的加勒比海中。他掙扎著游出水面，大聲呼喊。隨著遊艇的燈光越離越遠，他拚命地划水追趕，但是燈光很快就消失在夜色中。\n\n剛才的槍聲來自右方。雷恩斯福德盡力朝那個方向游去，不知遊了多久。然後從昏暗中傳來了獸類受驚嚇時的叫聲——接著就被一聲響亮而短促的手槍聲打斷了。\n\n差不多已經游到了礁石上，他才看見是礁石。他使出剩下的一點力掙脫開旋流，喘著氣，一頭撲在礁石上，就呼呼大睡起來。\n\n一覺醒來時已近黃昏。海灘邊的叢林中顯然無路可通，倒不如沿著岸邊走去還比較方便些。暮靄漸漸籠罩住大海和叢林，雷恩斯福德這才看見崖壁高處一幢寬大的房子所閃射出的燈光。於是他走上了台階。\n\n一個穿著制服，身材魁梧、大黑鬍子垂到腰部的人，手握左輪開了門。\n\n「不用大驚小怪，」雷恩斯福德說，「我是從船上落海的。我的名字叫桑格·雷恩斯福德，家住紐約市。」\n\n又一個身穿晚禮服的白頭髮高個子走出來，並且伸出了手。「我是沙洛夫將軍。承蒙大名鼎鼎的狩獵家雷恩斯福德先生光臨，真不勝榮幸。我拜讀過你在西藏尋獵雪豹的那本大作。」他做了個手勢，那穿制服的人收起了手槍。\n\n「伊凡壯得出奇，」將軍說，「有點象野蠻人。他是哥薩克人，我也是。」\n\n「還是請進來吧，我們不應該在門口聊天。你需要換換衣服，吃點東西，休息一下。請吧，雷恩斯福德先生，讓伊凡給你帶路。」\n\n後來他們在豪華的大廳里坐下來吃晚飯時，將軍說道：「我知道你的大名，你也許感到奇怪。有關打獵的書我全都讀過。我生平只有一種嗜好--打獵。」\n\n「你這裡有一些很漂亮的獸頭，」雷恩斯福德望了望牆壁說，「那隻好望角野牛真大。我一直認為在所有的大野獸中好望角野牛是最危險的。」\n\n「那倒不是，」將軍回答說，「在這裡的獵場上，我獵取的是更危險的獵物。當然不是土生土長的，得由我向這島上提供。」\n\n「將軍，你弄進來些什麼東西呢？老虎嗎？」\n\n將軍咧嘴笑了一笑：「不是，老虎已經是不夠刺激的了，並不真正危險。雷恩斯福德先生，我所尋求的是危險。」\n\n「究竟是什麼獵物……？」\n\n「我告訴你，我終於認識到，我必須創造出一種新的動物來獵取。我又問自己：理想的獵物應該具備哪些特點？答案是：必須有勇氣，有智謀--而最重要的是--必須具有思維能力。好在有一種動物能夠思維。」\n\n「你的意思該不會是說殺人吧？」\n\n「這詞兒多難聽，」將軍說道，「我獵取的不過是世上的渣滓--不定期貨船上的船員。來窗口看看吧，」他一按電鈕，遠方海上便出現閃光。「燈光指示出一航道，那裡都是些象剃刀那樣銳利的礁石，船隻碰上去就象堅果殼被碰碎似的。」\n\n「你要明白，這是一種遊戲。我向來客提出打獵的建議。讓他先走三小時。我隨後出發，只帶一隻22口徑手槍。如果受獵的人能三整天不讓我找到他，他就贏了。如果被我找到」將軍微微一笑「那他就輸了。」\n\n「要是他不肯受獵呢？」\n\n「那麼我就把他交給伊凡，這個人頭腦簡單，曾經一度擔任過沙皇手下正式的鞭笞手，對於遊戲，有他自己一套想法。來客總是寧可打獵的。\n\n「如果客人贏了呢？」\n\n將軍笑得更得意了。「迄今我還沒輸過，不過曾經有一個人幾乎贏了。我最後不得不出動獵犬。你來看，」他領先走向另一窗口，雷恩斯福德看見十來只巨大的黑色的東西在下面晃動。\n\n「現在我帶你去參觀一下最近收集的獵物。到書房去，好嗎？不想來！啊，對了。你需要好好睡一覺。明天你就會覺得象換了一個人似的。」\n\n「第二天一直到午飯時分沙洛夫將軍才露面。雷恩斯福德發現他那雙漆黑的眼睛在打量自己。「今晚，」將軍說，「我們去打獵--就你和我兩個人。」\n\n「不，將軍，」雷恩斯福德說，「我不打獵。」\n\n將軍聳了聳肩：「隨你的便吧。不過我提醒你，我的所謂遊戲，比伊凡的卻有趣得多。你會認為這值得一試--我們可以鬥智，比森林知識，較量體力。」\n\n「如果我贏了……」雷恩斯福德開口說。\n\n「如果到了第三天的午夜，我還沒有找到你，我就承認失敗。我的小帆船會把你送上大陸。我決不食言。」\n\n「現在，」沙洛夫一本正經地說，「伊凡會把獵裝，食物和一把刀給你。我勸你避開島上東南角上的大沼澤，我們把那個地方稱為死沼，那裡有流沙。我要等到黃昏才出發。夜晚打獵比較有意思，你說是嗎？」\n\n……\n\n雷恩斯福德被一種近乎驚慌的心情所驅使，在叢林中奔走了兩小時，此刻才停下來估量形勢。\n\n「這樣我會讓他有蹤跡可循了。」他暗自思忖著，一面踏上了無路的荒野。想起獵狐的經驗和狐狸逃遁的方式，他踏出了一連串複雜的圈子，弄得足跡往返交錯。天黑了，雷恩斯福德到達林木茂密的山脊，腿走累了。「當了狐狸，」他想，「現在再當野貓。」近旁有一棵枝椏粗密的大樹，他小心翼翼地爬了上去，避免遺留痕跡，然後躺在一根粗壯的大樹枝上。\n\n長夜漫漫。將近黎明時分，聽到叢林中有什麼東西緩慢而又謹慎地走過來。他將身軀貼緊大樹枝，透過濃密的層層樹葉向下望去。\n\n是沙洛夫將軍。他一步一步地走過來，兩眼密切注視著地面。快到樹下時他停了下來，跪在地上察看一陣。接著又站起來，點燃了一支黑色的長香菸。\n\n他的目光沿著樹幹一寸又一寸地向上移，雷恩斯福德屏住呼吸。但那獵人敏銳的目光快移到獵物棲身的樹枝時卻停住了。沙洛夫深思熟慮地微笑著，一邊張嘴向空中噴了個煙圈。隨即漫不經心地走開了。\n\n雷恩斯福德把胸中憋了好久的氣吐了出來。他首先想到：那將軍顯然在夜晚也能在叢林中進行艱難的追蹤，只因為一時不巧，才沒看到他所追獵的對象。\n\n他再仔細一想：將軍笑什麼？為什麼轉身回去？那是將軍在捉弄他，要留他再戲耍一天。\n\n雷恩斯福德此刻體會到恐懼的滋味了。\n\n他從樹上滑下來，進入森林。走了三百碼後便停住了腳，在那裡有株大枯樹。很不牢固地斜靠著一株較小的活樹。他拔刀出鞘，開始動手。幹完後，他急忙躲到一百英尺外一根倒放著的原木後面。他等了沒多久。\n\n那哥薩克人只顧一味追蹤，沒有發現機關，一腳踩了上去。他的腳碰上凸出的樹枝--觸發裝置。將軍發覺情況不對，縱身後躍，但是已經晚了；枯樹倒下，擦身擊中了他。他站在那裡，揉著受傷的肩膀，那含有譏諷的笑聲響徹叢林。\n\n「雷恩斯福德，」他叫道，「讓我祝賀你。沒有多少人會架設馬來捕人機。你真有意思，雷恩斯福德先生，現在我回去裹傷；只是一點輕傷。別著急，我會回來的。」\n\n將軍走了之後，雷恩斯福德繼續奔逃。天色漸暗，接著黑夜降臨。他覺得他的鹿皮鞋踩在地上越來越軟。再跨前一步，腳陷進了爛泥。原來是死沼！\n\n鬆軟的土地使他有了個主意。他從流沙處退後十幾英尺，開始在地面掘坑。挖到齊肩的深度時，他爬上來找了些堅硬的小樹製作樹樁，將一頭削尖。這些樹樁都插進坑底，尖端向上。接著他又用野草和樹枝搭編成粗席，蓋住坑口，然後，他汗流浹背地蹲在一棵樹後。\n\n聽到鬆軟土地的腳步聲。他知道追逐者來了。接著是樹枝的折裂聲--以及樹樁戳中什麼時的哀叫。他探頭一瞧，在坑邊三英尺處，有一個人拿著手電筒站著。\n\n「雷恩斯福德！」將軍叫道，「你的緬甸獵虎坑弄死了我一隻最好的狗。你又得手了。現在我要把獵狗都帶來，看你怎樣應付。多謝，這一夜玩得很有趣。」\n\n拂曉時分，留在沼澤附近的雷恩斯福德驚醒過來，聽到遠處模糊而又不連續的聲音：獵犬的狂吠。他站著思索了一陣，想起在烏干達學會的土著把戲。\n\n他離開沼澤地，很快找到一株有彈性的小樹。他將獵刀綁在小樹上，鋒刃衝著足跡。再用一截野葡萄藤將小樹反扎……然後拚命跑開。獵犬嗅出了新鮮氣味，叫得更起勁了，雷恩斯福德那時體會到了當困獸的感覺。\n\n獵狗的吠叫聲突然停止。雷恩斯福德跳動的心也跟著停住了。他們一定來到了插刀的地方。\n\n他激動地爬上樹，回頭張望。追逐者已站定了。但希望落了空，眼見沙洛夫將軍一槍在手，依然無恙。彈起的小樹揮動獵刀，卻擊中了用皮帶牽著獵犬的伊凡。\n\n雷恩斯福德跳回地面，獵犬又狂吠起來。\n\n「要鎮靜，別慌！」他一面撒腿狂奔，一面喘著氣自言自語。前面樹木間呈現出一條藍色的裂縫。他到達了海邊，隔著小海灣他可以看到對面築成那幢大房子的灰色巨石。波濤在二十英尺下激盪翻騰。雷恩斯福德猶豫了一會兒，然後便縱身躍入海中。\n\n將軍帶著他的獵犬趕到海邊空曠處站住，對著碧綠色的那片海水觀望了一陣。\n\n當天晚上吃飯時，有兩件懊惱的事情使沙洛夫將軍吃得不香。第一，不容易找到人接替伊凡；第二，獵物沒到手。當然，這是由於那個已自殺的美國人沒有遵守比賽規則。於是他去書房讀書，藉以排遣愁悶。到了十點鐘，他感到有點舒適而又疲倦，這才起身轉回臥室。\n\n他沒有開燈，先走到窗邊看看下面的院子。那些大獵犬在月光下都看得很清楚，他不覺大聲說道：「希望下次運氣好點。」接著便扭亮了燈。\n\n一直躲在有罩蓋的床帳里的人，站在他的面前。\n\n「雷恩斯福德！」將軍尖叫起來，「天曉得你是怎麼會來到這裡的？」\n\n「游過來的。我發現這樣比穿過叢林要快些。」\n\n對方倒吸一口冷氣，露出笑容：「我向你道賀，這場遊戲你贏了。」\n\n雷恩斯福德卻沒有笑。「我還是一頭陷入絕境的困獸，」他的嗓音低啞深沉，「準備吧，沙洛夫。」\n\n這位將軍深深鞠了一躬。「我明白，」他說道，「好極了。我們之中總有一個要拿去餵狗。另一個就睡在這張美好的床上。小心吧，雷恩斯福德……」\n\n雷恩斯福德認為他有生以來從沒有睡過比這更舒適的床。","url":"最危險的遊戲","title":"最危險的遊戲","fullUrl":"article/最危險的遊戲","htmlContent":"<p>——理察·康奈爾</p>\n<p>「右邊那裡就是舊海圖上的所謂沉舟島，」惠特尼說，「海員對那個地方有著莫名其妙的恐懼。迷信……」</p>\n<p>「看不見,」雷恩斯福德說。他試圖透過籠罩著遊艇的潮濕而悶熱的夜幕張望。</p>\n<p>「再過幾天到了巴西,天空就會晴朗多了，」惠特尼保證說，「我們應當在亞馬孫河上游痛痛快快地打打獵。打獵是一種好運動。」</p>\n<p>「是世界上最好的運動，」雷恩斯福德表示同意。</p>\n<p>後來，他的夥伴下去睡覺了，雷恩斯福德留在甲板上再抽一袋煙。正吸菸時，一種意料不到的聲音使他吃了一驚，接連又是兩聲，黑夜中有人開了三槍。</p>\n<p>他朝槍響的方向極目眺望，但象是隔著一張毯子要透視過去似的。雷恩斯福德跳上船欄，以便站得更高些，菸斗撞著繩索，從嘴邊掉了下去。他急忙傾身抓菸斗，身體一下子失去了平衡，跌落到像熱血般溫暖的加勒比海中。他掙扎著游出水面，大聲呼喊。隨著遊艇的燈光越離越遠，他拚命地划水追趕，但是燈光很快就消失在夜色中。</p>\n<p>剛才的槍聲來自右方。雷恩斯福德盡力朝那個方向游去，不知遊了多久。然後從昏暗中傳來了獸類受驚嚇時的叫聲——接著就被一聲響亮而短促的手槍聲打斷了。</p>\n<p>差不多已經游到了礁石上，他才看見是礁石。他使出剩下的一點力掙脫開旋流，喘著氣，一頭撲在礁石上，就呼呼大睡起來。</p>\n<p>一覺醒來時已近黃昏。海灘邊的叢林中顯然無路可通，倒不如沿著岸邊走去還比較方便些。暮靄漸漸籠罩住大海和叢林，雷恩斯福德這才看見崖壁高處一幢寬大的房子所閃射出的燈光。於是他走上了台階。</p>\n<p>一個穿著制服，身材魁梧、大黑鬍子垂到腰部的人，手握左輪開了門。</p>\n<p>「不用大驚小怪，」雷恩斯福德說，「我是從船上落海的。我的名字叫桑格·雷恩斯福德，家住紐約市。」</p>\n<p>又一個身穿晚禮服的白頭髮高個子走出來，並且伸出了手。「我是沙洛夫將軍。承蒙大名鼎鼎的狩獵家雷恩斯福德先生光臨，真不勝榮幸。我拜讀過你在西藏尋獵雪豹的那本大作。」他做了個手勢，那穿制服的人收起了手槍。</p>\n<p>「伊凡壯得出奇，」將軍說，「有點象野蠻人。他是哥薩克人，我也是。」</p>\n<p>「還是請進來吧，我們不應該在門口聊天。你需要換換衣服，吃點東西，休息一下。請吧，雷恩斯福德先生，讓伊凡給你帶路。」</p>\n<p>後來他們在豪華的大廳里坐下來吃晚飯時，將軍說道：「我知道你的大名，你也許感到奇怪。有關打獵的書我全都讀過。我生平只有一種嗜好--打獵。」</p>\n<p>「你這裡有一些很漂亮的獸頭，」雷恩斯福德望了望牆壁說，「那隻好望角野牛真大。我一直認為在所有的大野獸中好望角野牛是最危險的。」</p>\n<p>「那倒不是，」將軍回答說，「在這裡的獵場上，我獵取的是更危險的獵物。當然不是土生土長的，得由我向這島上提供。」</p>\n<p>「將軍，你弄進來些什麼東西呢？老虎嗎？」</p>\n<p>將軍咧嘴笑了一笑：「不是，老虎已經是不夠刺激的了，並不真正危險。雷恩斯福德先生，我所尋求的是危險。」</p>\n<p>「究竟是什麼獵物……？」</p>\n<p>「我告訴你，我終於認識到，我必須創造出一種新的動物來獵取。我又問自己：理想的獵物應該具備哪些特點？答案是：必須有勇氣，有智謀--而最重要的是--必須具有思維能力。好在有一種動物能夠思維。」</p>\n<p>「你的意思該不會是說殺人吧？」</p>\n<p>「這詞兒多難聽，」將軍說道，「我獵取的不過是世上的渣滓--不定期貨船上的船員。來窗口看看吧，」他一按電鈕，遠方海上便出現閃光。「燈光指示出一航道，那裡都是些象剃刀那樣銳利的礁石，船隻碰上去就象堅果殼被碰碎似的。」</p>\n<p>「你要明白，這是一種遊戲。我向來客提出打獵的建議。讓他先走三小時。我隨後出發，只帶一隻22口徑手槍。如果受獵的人能三整天不讓我找到他，他就贏了。如果被我找到」將軍微微一笑「那他就輸了。」</p>\n<p>「要是他不肯受獵呢？」</p>\n<p>「那麼我就把他交給伊凡，這個人頭腦簡單，曾經一度擔任過沙皇手下正式的鞭笞手，對於遊戲，有他自己一套想法。來客總是寧可打獵的。</p>\n<p>「如果客人贏了呢？」</p>\n<p>將軍笑得更得意了。「迄今我還沒輸過，不過曾經有一個人幾乎贏了。我最後不得不出動獵犬。你來看，」他領先走向另一窗口，雷恩斯福德看見十來只巨大的黑色的東西在下面晃動。</p>\n<p>「現在我帶你去參觀一下最近收集的獵物。到書房去，好嗎？不想來！啊，對了。你需要好好睡一覺。明天你就會覺得象換了一個人似的。」</p>\n<p>「第二天一直到午飯時分沙洛夫將軍才露面。雷恩斯福德發現他那雙漆黑的眼睛在打量自己。「今晚，」將軍說，「我們去打獵--就你和我兩個人。」</p>\n<p>「不，將軍，」雷恩斯福德說，「我不打獵。」</p>\n<p>將軍聳了聳肩：「隨你的便吧。不過我提醒你，我的所謂遊戲，比伊凡的卻有趣得多。你會認為這值得一試--我們可以鬥智，比森林知識，較量體力。」</p>\n<p>「如果我贏了……」雷恩斯福德開口說。</p>\n<p>「如果到了第三天的午夜，我還沒有找到你，我就承認失敗。我的小帆船會把你送上大陸。我決不食言。」</p>\n<p>「現在，」沙洛夫一本正經地說，「伊凡會把獵裝，食物和一把刀給你。我勸你避開島上東南角上的大沼澤，我們把那個地方稱為死沼，那裡有流沙。我要等到黃昏才出發。夜晚打獵比較有意思，你說是嗎？」</p>\n<p>……</p>\n<p>雷恩斯福德被一種近乎驚慌的心情所驅使，在叢林中奔走了兩小時，此刻才停下來估量形勢。</p>\n<p>「這樣我會讓他有蹤跡可循了。」他暗自思忖著，一面踏上了無路的荒野。想起獵狐的經驗和狐狸逃遁的方式，他踏出了一連串複雜的圈子，弄得足跡往返交錯。天黑了，雷恩斯福德到達林木茂密的山脊，腿走累了。「當了狐狸，」他想，「現在再當野貓。」近旁有一棵枝椏粗密的大樹，他小心翼翼地爬了上去，避免遺留痕跡，然後躺在一根粗壯的大樹枝上。</p>\n<p>長夜漫漫。將近黎明時分，聽到叢林中有什麼東西緩慢而又謹慎地走過來。他將身軀貼緊大樹枝，透過濃密的層層樹葉向下望去。</p>\n<p>是沙洛夫將軍。他一步一步地走過來，兩眼密切注視著地面。快到樹下時他停了下來，跪在地上察看一陣。接著又站起來，點燃了一支黑色的長香菸。</p>\n<p>他的目光沿著樹幹一寸又一寸地向上移，雷恩斯福德屏住呼吸。但那獵人敏銳的目光快移到獵物棲身的樹枝時卻停住了。沙洛夫深思熟慮地微笑著，一邊張嘴向空中噴了個煙圈。隨即漫不經心地走開了。</p>\n<p>雷恩斯福德把胸中憋了好久的氣吐了出來。他首先想到：那將軍顯然在夜晚也能在叢林中進行艱難的追蹤，只因為一時不巧，才沒看到他所追獵的對象。</p>\n<p>他再仔細一想：將軍笑什麼？為什麼轉身回去？那是將軍在捉弄他，要留他再戲耍一天。</p>\n<p>雷恩斯福德此刻體會到恐懼的滋味了。</p>\n<p>他從樹上滑下來，進入森林。走了三百碼後便停住了腳，在那裡有株大枯樹。很不牢固地斜靠著一株較小的活樹。他拔刀出鞘，開始動手。幹完後，他急忙躲到一百英尺外一根倒放著的原木後面。他等了沒多久。</p>\n<p>那哥薩克人只顧一味追蹤，沒有發現機關，一腳踩了上去。他的腳碰上凸出的樹枝--觸發裝置。將軍發覺情況不對，縱身後躍，但是已經晚了；枯樹倒下，擦身擊中了他。他站在那裡，揉著受傷的肩膀，那含有譏諷的笑聲響徹叢林。</p>\n<p>「雷恩斯福德，」他叫道，「讓我祝賀你。沒有多少人會架設馬來捕人機。你真有意思，雷恩斯福德先生，現在我回去裹傷；只是一點輕傷。別著急，我會回來的。」</p>\n<p>將軍走了之後，雷恩斯福德繼續奔逃。天色漸暗，接著黑夜降臨。他覺得他的鹿皮鞋踩在地上越來越軟。再跨前一步，腳陷進了爛泥。原來是死沼！</p>\n<p>鬆軟的土地使他有了個主意。他從流沙處退後十幾英尺，開始在地面掘坑。挖到齊肩的深度時，他爬上來找了些堅硬的小樹製作樹樁，將一頭削尖。這些樹樁都插進坑底，尖端向上。接著他又用野草和樹枝搭編成粗席，蓋住坑口，然後，他汗流浹背地蹲在一棵樹後。</p>\n<p>聽到鬆軟土地的腳步聲。他知道追逐者來了。接著是樹枝的折裂聲--以及樹樁戳中什麼時的哀叫。他探頭一瞧，在坑邊三英尺處，有一個人拿著手電筒站著。</p>\n<p>「雷恩斯福德！」將軍叫道，「你的緬甸獵虎坑弄死了我一隻最好的狗。你又得手了。現在我要把獵狗都帶來，看你怎樣應付。多謝，這一夜玩得很有趣。」</p>\n<p>拂曉時分，留在沼澤附近的雷恩斯福德驚醒過來，聽到遠處模糊而又不連續的聲音：獵犬的狂吠。他站著思索了一陣，想起在烏干達學會的土著把戲。</p>\n<p>他離開沼澤地，很快找到一株有彈性的小樹。他將獵刀綁在小樹上，鋒刃衝著足跡。再用一截野葡萄藤將小樹反扎……然後拚命跑開。獵犬嗅出了新鮮氣味，叫得更起勁了，雷恩斯福德那時體會到了當困獸的感覺。</p>\n<p>獵狗的吠叫聲突然停止。雷恩斯福德跳動的心也跟著停住了。他們一定來到了插刀的地方。</p>\n<p>他激動地爬上樹，回頭張望。追逐者已站定了。但希望落了空，眼見沙洛夫將軍一槍在手，依然無恙。彈起的小樹揮動獵刀，卻擊中了用皮帶牽著獵犬的伊凡。</p>\n<p>雷恩斯福德跳回地面，獵犬又狂吠起來。</p>\n<p>「要鎮靜，別慌！」他一面撒腿狂奔，一面喘著氣自言自語。前面樹木間呈現出一條藍色的裂縫。他到達了海邊，隔著小海灣他可以看到對面築成那幢大房子的灰色巨石。波濤在二十英尺下激盪翻騰。雷恩斯福德猶豫了一會兒，然後便縱身躍入海中。</p>\n<p>將軍帶著他的獵犬趕到海邊空曠處站住，對著碧綠色的那片海水觀望了一陣。</p>\n<p>當天晚上吃飯時，有兩件懊惱的事情使沙洛夫將軍吃得不香。第一，不容易找到人接替伊凡；第二，獵物沒到手。當然，這是由於那個已自殺的美國人沒有遵守比賽規則。於是他去書房讀書，藉以排遣愁悶。到了十點鐘，他感到有點舒適而又疲倦，這才起身轉回臥室。</p>\n<p>他沒有開燈，先走到窗邊看看下面的院子。那些大獵犬在月光下都看得很清楚，他不覺大聲說道：「希望下次運氣好點。」接著便扭亮了燈。</p>\n<p>一直躲在有罩蓋的床帳里的人，站在他的面前。</p>\n<p>「雷恩斯福德！」將軍尖叫起來，「天曉得你是怎麼會來到這裡的？」</p>\n<p>「游過來的。我發現這樣比穿過叢林要快些。」</p>\n<p>對方倒吸一口冷氣，露出笑容：「我向你道賀，這場遊戲你贏了。」</p>\n<p>雷恩斯福德卻沒有笑。「我還是一頭陷入絕境的困獸，」他的嗓音低啞深沉，「準備吧，沙洛夫。」</p>\n<p>這位將軍深深鞠了一躬。「我明白，」他說道，「好極了。我們之中總有一個要拿去餵狗。另一個就睡在這張美好的床上。小心吧，雷恩斯福德……」</p>\n<p>雷恩斯福德認為他有生以來從沒有睡過比這更舒適的床。</p>\n","meta":{}}]